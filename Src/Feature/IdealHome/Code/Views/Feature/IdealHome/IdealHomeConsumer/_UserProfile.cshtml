@model DEWAXP.Feature.IdealHome.Models.IdealHomeConsumer.User
@using DEWAXP.Foundation.Helpers
@using Glass.Mapper.Sc.Fields
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@using Sitecore.Globalization
@using DEWAXP.Foundation.Content
<div class="grid" data-journey="j106-ideal-home">
    <div class="grid__row">
        <div class="grid__column grid__column--12 grid__column--form">


            @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")

            @{
                var Nationalities = DEWAXP.Foundation.Helpers.Extensions.FormExtensions.GetNationalities(null, false);
                var isDEWAchecked = "";
                var isNonDEWAchecked = "";

                if (Model.IsDEWACustomer)
                {
                    isDEWAchecked = "checked";
                }
                else
                {
                    isNonDEWAchecked = "checked";
                }
            }

            @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, new { returnUrl = "" }, FormMethod.Post, new { @data_parsley_focus = "true", @data_form = "true", @class = "form", @data_submit_validate = "enabled", @novalidate = true, @autocomplete = "off" }))
            {

                @Html.AntiForgeryToken()



                <div class="form-field">
                    <fieldset class="fieldset">
                        <legend class="form-field__label">
                            @Translate.Text("J106.RegisterasLabel")
                            <span class="form-field__label-required aria-only">(required)</span>
                        </legend>
                        <p class="form-field__radio ">
                            <label>
                                <input class="form-field__input form-field__input--radio" id="form-field-registration_type--customer"
                                       aria-label="form-field-registration_type--customer"
                                       name="IsDEWACustomer"
                                       type="radio"
                                       value=true
                                       aria-describedby="description-for-dy4thpja3"
                                       data-parsley-errors-container="#description-for-dy4thpja3"
                                       @isDEWAchecked>

                                <span class="form-field__fakeradio focus-enabled">
                                    @Translate.Text("J106.DEWACustomerLabel")
                                </span>
                            </label>
                        </p>
                        <p class="form-field__radio ">
                            <label>
                                <input class="form-field__input form-field__input--radio" id="form-field-registration_type--new"
                                       aria-label="form-field-registration_type--new"
                                       name="IsDEWACustomer"
                                       type="radio"
                                       value=false
                                       @isNonDEWAchecked
                                       aria-describedby="description-for-dy4thpja3"
                                       data-parsley-errors-container="#description-for-dy4thpja3">

                                <span class="form-field__fakeradio focus-enabled">
                                    @Translate.Text("J106.NewCustomerLabel")
                                </span>
                            </label>
                        </p>
                        <div id="description-for-dy4thpja3" class="form-field__messages">
                        </div>
                    </fieldset>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-l88nbadxq" class="form-field__label">
                        @Translate.Text("J106.DEWAccountLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        <input class="form-field__input form-field__input--text"
                               id="form-field-l88nbadxq"
                               name="account_number"
                               value="@Model.account_number"
                               data-parsley-minlength="9"
                               maxlength="10"
                               type="number"
                               placeholder="@Translate.Text("J106.TypeReferenceNumberLabel")"
                               aria-describedby="description-for-l88nbadxq"
                               data-parsley-errors-container="#description-for-l88nbadxq"
                               required
                               data-parsley-error-message="@Translate.Text("Please enter an account or premise number")"
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.DEWAccountLabel")"
                               data-parsley-minlength-message="@Translate.Text("Please enter an account or premise number")" />
                    </span>
                    <div id="description-for-l88nbadxq" class="form-field__messages">
                        <p class="form-field__description"><a class='link' href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.UNDERSTAND_YOUR_BILL)">@Translate.Text("J106.WhereIsAccountNumberLabel")</a></p>
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-74t3qx8p2" class="form-field__label">
                        @Translate.Text("J106.EmailLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        <input class="form-field__input form-field__input--text"
                               id="form-field-74t3qx8p2"
                               name="EmailAddress"
                               type="email"
                               value="@Model.EmailAddress"
                               placeholder="@Translate.Text("J106.EnterEmailAddress")"
                               aria-describedby="description-for-74t3qx8p2"
                               data-parsley-errors-container="#description-for-74t3qx8p2"
                               required
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.EmailLabel")"
                               data-parsley-type-message="@Translate.Text("J106.ValidEmailUsername")" />
                    </span>
                    <div id="description-for-74t3qx8p2" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-password" class="form-field__label">
                        @Translate.Text("J106.PasswordLabel")

                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper
               ">
                        <input class="form-field__input form-field__input--text"
                               maxlength="12"
                               id="form-field-password"
                               name="Password"
                               type="password"
                               autocomplete="off"
                               data-parsley-minlength="8"
                               placeholder="@Translate.Text("J106.PasswordLabel")"
                               aria-describedby="description-for-password"
                               data-parsley-errors-container="#description-for-password"
                               required
                               data-parsley-equalto-message="@Translate.Text("J106.MatchPassword")"
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.PasswordLabel")"
                               data-parsley-minlength-message="@Translate.Text("J106.MinPassword")" />
                    </span>
                    <div id="description-for-password" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-rfdru9z8c" class="form-field__label">
                        @Translate.Text("J106.ConfirmPasswordLabel")

                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        <input class="form-field__input form-field__input--text"
                               data-parsley-minlength="8"
                               id="form-field-rfdru9z8c"
                               name="ConfirmPassword"
                               type="password"
                               autocomplete="off"
                               placeholder="@Translate.Text("J106.ConfirmPasswordLabel")"
                               aria-describedby="description-for-rfdru9z8c"
                               data-parsley-errors-container="#description-for-rfdru9z8c"
                               required
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.ConfirmPasswordLabel")"
                               data-parsley-equalto="#form-field-password"
                               data-parsley-equalto-message="@Translate.Text("J106.MatchPassword")"
                               data-parsley-minlength-message="@Translate.Text("J106.MinPassword")" />
                    </span>
                    <div id="description-for-rfdru9z8c" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-cpb9ghtqi" class="form-field__label">
                        @Translate.Text("J106.AccountOwnerNameLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        <input class="form-field__input form-field__input--text"
                               id="form-field-cpb9ghtqi"
                               value="@Model.owner_name"
                               name="owner_name"
                               type="text"
                               placeholder="@Translate.Text("J106.EnterAccountOwner")"
                               aria-describedby="description-for-cpb9ghtqi"
                               data-parsley-errors-container="#description-for-cpb9ghtqi"
                               required
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.AccountOwnerNameLabel")" />
                    </span>
                    <div id="description-for-cpb9ghtqi" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-eygw0p8ns" class="form-field__label">
                        @Translate.Text("J106.MobileNumberLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper
               form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">
                        <input class="form-field__input form-field__input--text form-field__input--prefixed"
                               id="form-field-eygw0p8ns"
                               maxlength="9"
                               name="Mobile"
                               type="tel"
                               value="@Model.Mobile"
                               placeholder="@Translate.Text("J106.MobileNumberLabel")"
                               aria-describedby="description-for-eygw0p8ns"
                               data-parsley-errors-container="#description-for-eygw0p8ns"
                               required
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.MobileNumberLabel")"
                               data-parsley-mobile_number=""
                               data-parsley-mobile_number-message="@Translate.Text("Please enter a valid UAE mobile number")" />
                    </span>
                    <div id="description-for-eygw0p8ns" class="form-field__messages">
                    </div>
                </div>
                @*<div class="form-field form-field--select form-field--select-single" style="display:none">
                        <label for="form-field-sxlsmzc1f" class="form-field__label">
                            @Translate.Text("J106.TitleLabel")
                            <span class="form-field__label-required aria-only">(required)</span>
                        </label>
                        <span class="form-field__input-wrapper form-field__input-wrapper--select">
                            <select class="form-field__input form-field__input--select form-field__input--select-full"
                                    id="form-field-sxlsmzc1f"
                                    name="Title"
                                    aria-describedby="description-for-sxlsmzc1f"
                                    data-parsley-errors-container="#description-for-sxlsmzc1f"
                                    required
                                    data-parsley-required-message="@Translate.Text("J106.FieldRequired")">
                                @foreach (var item in Model.TitleList)
                                {
                                    var _selected = string.Empty;
                                    if (item.Text.Equals(Model.Title))
                                    {
                                        _selected = "selected";
                                    }
                                    <option value="@item.Value" @_selected>@item.Text</option>
                                }


                            </select>
                        </span>
                        <div id="description-for-sxlsmzc1f" class="form-field__messages">
                        </div>
                    </div>*@
                <div class="form-field form-field--text ">
                    <label for="form-field-e2k586vvu" class="form-field__label">
                        @Translate.Text("J106.FullnameLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        <input class="form-field__input form-field__input--text"
                               id="form-field-e2k586vvu"
                               name="FullName"
                               value="@Model.FullName"
                               type="text"
                               placeholder="@Translate.Text("J106.EnterFullName")"
                               aria-describedby="description-for-e2k586vvu"
                               data-parsley-errors-container="#description-for-e2k586vvu"
                               required
                               data-parsley-required-message="@Translate.Text("Please enter") @Translate.Text("J106.FullnameLabel")" />
                    </span>
                    <div id="description-for-e2k586vvu" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field form-field--select form-field--select-single">
                    <label for="form-field-xjmtd9339" class="form-field__label">
                        @Translate.Text("J106.NationalityLabel")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper form-field__input-wrapper--select">
                        <select class="form-field__input form-field__input--select form-field__input--select-full"
                                id="form-field-xjmtd9339"
                                name="Nationality"
                                aria-describedby="description-for-xjmtd9339"
                                data-parsley-errors-container="#description-for-xjmtd9339"
                                required
                                data-parsley-required-message="@Translate.Text("Please select") @Translate.Text("J106.NationalityLabel")">
                            <option value="" selected>@Translate.Text("J106.SelectNationality")</option>

                            @foreach (var item in Nationalities)
                            {
                                var _selected = string.Empty;
                                if (item.Text.Equals(Model.Nationality))
                                {
                                    _selected = "selected";
                                }
                                <option value="@item.Value" @_selected>@item.Text</option>
                            }

                        </select>
                    </span>
                    <div id="description-for-xjmtd9339" class="form-field__messages">
                    </div>
                </div>
                <div class="form-field">
                    <fieldset class="fieldset">
                        <legend class="form-field__label">
                            @Translate.Text("J106.TypeofResidenceLabel")
                            <span class="form-field__label-optional"></span>
                        </legend>
                        <p class="form-field__radio ">
                            <label>
                                <input class="form-field__input form-field__input--radio" id="form-field-radio_1_1"
                                       name="TypeofResidence"
                                       type="radio"
                                       value="Villa"
                                       aria-describedby="description-for-e056mkooi"
                                       data-parsley-errors-container="#description-for-e056mkooi">
                                <span class="form-field__fakeradio focus-enabled">
                                    @Translate.Text("J106.VillaLabel")
                                </span>
                            </label>
                        </p>
                        <p class="form-field__radio ">
                            <label>
                                <input class="form-field__input form-field__input--radio" id="form-field-radio_1_2"
                                       name="TypeofResidence"
                                       type="radio"
                                       value="Apartment"
                                       aria-describedby="description-for-e056mkooi"
                                       data-parsley-errors-container="#description-for-e056mkooi">
                                <span class="form-field__fakeradio focus-enabled">
                                    @Translate.Text("J106.ApartmentLabel")
                                </span>
                            </label>
                        </p>
                        <div id="description-for-e056mkooi" class="form-field__messages">
                        </div>
                    </fieldset>
                </div>
                <div class="form-field form-field--select form-field--select-single">
                    <label for="form-field-sclf04qh4" class="form-field__label">
                        @Translate.Text("J106.NumberOfResidentsLabel")
                        <span class="form-field__label-optional"></span>
                    </label>
                    <input class="form-field__input form-field__input--text"
                           id="form-field-sclf04qh4"
                           value="@Model.NumberofResidence"
                           maxlength="2"
                           type="text"
                           pattern="\d*"
                           placeholder="@Translate.Text("J106.EnterNumberOfResidentsLabel")"
                           name="NumberofResidence"
                           aria-describedby="description-for-sclf04qh4"
                           data-parsley-errors-container="#description-for-sclf04qh4"
                           data-parsley-required-message="@Translate.Text("J106.NumberOfResidentsLabel")" />
                    <div id="description-for-sclf04qh4" class="form-field__messages">
                    </div>
                </div>
                @*<div class="form-field form-field--toggles">
                        <fieldset class="fieldset">
                            <legend class="legend-color">.</legend>
                            <div class="form-field__checkbox  last  first">
                                <label>
                                    <input class="form-field__input form-field__input--checkbox"
                                           id="form-field-tnc"
                                           name="tnc"
                                           type="checkbox"
                                           value="1"
                                           aria-describedby="description-for-9t75qhpyk"
                                           data-parsley-errors-container="#description-for-9t75qhpyk"
                                           >

                                    <span class="form-field__fakecheckbox focus-enabled">
                                        <span class="text">@Translate.Text("J106.AgreeLabel") @Html.Sitecore().Placeholder("j26/m39-modal-overlay")</span>
                                    </span>
                                </label>
                            </div>
                            <div id="description-for-9t75qhpyk" class="form-field__messages">
                            </div>
                        </fieldset>
                    </div>*@
                <div class="form-field form-field--toggles">
                    <fieldset class="fieldset">
                        <legend class="legend-color">.</legend>
                        <div class="form-field__checkbox  last  first">
                            <label>
                                <input class="form-field__input form-field__input--checkbox"
                                       id="form-field-tnc"
                                       name="tnc"
                                       type="checkbox"
                                       value="1"
                                       aria-describedby="description-for-9t75qhpyk"
                                       data-parsley-errors-container="#description-for-9t75qhpyk"
                                       checked>
                                <span class="form-field__fakecheckbox focus-enabled">
                                    @Translate.Text("J106.AgreeLabel")
                                    @Html.Sitecore().Placeholder("j26/m39-modal-overlay")
                                </span>
                            </label>
                        </div>
                        <div id="description-for-9t75qhpyk" class="form-field__messages">
                        </div>
                    </fieldset>
                </div>
                <div class="form-field__button">
                    <button type="submit" class="button button--primary button--next" data-submission-text="@Translate.Text("Submitting")...">@Translate.Text("Update")</button>
                </div>
            }
        </div>
    </div>
</div>
<script src="~/Scripts/External/nml/form-submit-validate.js"></script>

<script>

    $("input[name=TypeofResidence][value=@Model.TypeofResidence]").attr('checked', true);

    $('#form-field-sclf04qh4').val('@Model.NumberofResidence');

</script>