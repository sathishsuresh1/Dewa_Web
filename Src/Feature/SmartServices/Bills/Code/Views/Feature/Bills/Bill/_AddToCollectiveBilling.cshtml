@using Sitecore.Globalization
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@model DEWAXP.Foundation.Content.Models.Bills.AddToCollectiveBilling

<div class="grid">
    @Html.Sitecore().Placeholder("j12/m26-page-title")
    <div class="grid__row">
        <div class="grid__column grid__column--12 grid__column--form">
            <h3 class="text__content-copy">@Html.Sitecore().Field("Summary")</h3>
        </div>
    </div>

	@Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")

	@using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { @class = "form", @data_form = "true", @data_parsley_focus = "none", @enctype= "multipart/form-data", @data_submit_validate = "enabled" }))
{
    @Html.Sitecore().FormHandler()
    @Html.AntiForgeryToken()
    @*@Html.HiddenFor(m => m.BusinessPartnerNumber, new { @id = "business-partner-number" })*@
    
    <div class="grid__row">
        <div class="grid__column grid__column--12 grid__column--form">

            @*<form action="#" data-form="true" class="form" method="get" novalidate="">*@
            <fieldset class="fieldset">
                <legend class="legend">@Translate.Text("Collective billing details")</legend>
                <div class="form-field form-field--select form-field--select-single">
                    <label class="form-field-partner" for="form-field-partners">
                        @Translate.Text("Business partner ID")
                        @*<span class="form-field__label-optional">(@Translate.Text("optional"))</span>*@
                    </label>
                    <span class="form-field__input-wrapper form-field__input-wrapper--select">
                        @Html.HiddenFor(x => x.SelectedBusinessPartnerValue)
                        @Html.DropDownListFor(x => x.SelectedBusinessPartnerKey, new SelectList(Model.BusinessPartners, "Key", "Value"), Translate.Text("select business partner text"), new
                   {
                       @aria_describedby = "description-for-partners",
                       @required = "",
                       @name = "select_optgropus",
                       @data_parsley_error_message = Translate.Text("generic validation message"),
                       @data_parsley_errors_container = "#description-for-partners",
                       @class = "form-field__input form-field__input--select form-field__input--select-full",
                       @id = "form-field-partner"
                   })
                    </span>
                    <div class="form-field__messages" id="description-for-partners">
                        @Html.ValidationMessageFor(x => x.SelectedBusinessPartnerValue, "", new { @class = "parsley-errors-list" })
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-contactname" class="form-field__label">
                        @Translate.Text("contact name label")
                        <span class="form-field__label-required aria-only">@Translate.Text("generic required label")</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        @Html.TextBoxFor(x => x.ContactName, new
                   {
                       @class = "form-field__input form-field__input--text",
                       @id = "form-field-contactname",
                       @placeholder = Translate.Text("contact name placeholder"),
                       @required = "required",
                       @type = "text",
                       @data_parsley_error_message = Translate.Text("generic validation message"),
                       @data_parsley_errors_container = "#description-for-contactname",
                       @aria_describedby = "description-for-contactname"
                   })
                    </span>
                    <div id="description-for-contactname" class="form-field__messages">
                        @Html.ValidationMessageFor(x => x.ContactName, "", new { @class = "parsley-errors-list" })
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-mobile-number" class="form-field__label">
                        @Translate.Text("mobile label")
                        <span class="form-field__label-required aria-only">@Translate.Text("generic required label")</span>
                    </label>
                    <span class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">
	                    @*@Html.TextBoxFor(x => x.Mobile, new
                   {
                       @class = "form-field__input form-field__input--text form-field__input--prefixed",
                       @id = "form-field-mobile-number",
                       @placeholder = Translate.Text("mobile number placeholder"),
                       @aria_required = "true",
                       @required = "required",
                       @name = "mobile_number",
                       @type = "tel",
                       @data_parsley_type = "digits",
                       @data_parsley_trigger = "focusout",
                       @data_parsley_error_message = Translate.Text("uae mobile number validation message"),
                       @data_parsley_errors_container = "#description-for-mobile-number",
                       @aria_describedby = "description-for-mobile-number",
                   })*@
						<span class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">
							<input type="tel" name="Mobile" value="@Model.Mobile" 
                                   @*aria-required="true"*@ 
                                   id = "form-field-mobile-number"
                                   aria-describedby="description-for-mobile-number"
								   required="required" placeholder="@Translate.Text("mobile number placeholder")"
								   data-parsley-error-message="@Translate.Text("uae mobile number validation message")"
								   data-parsley-type="digits" data-parsley-trigger="focusout" data-parsley-mobile_number=""
								   data-parsley-errors-container="#description-for-mobile-number" class="form-field__input form-field__input--text form-field__input--prefixed" />
						</span>
                    </span>
                    <div id="description-for-mobile-number" class="form-field__messages">
                        @Html.ValidationMessageFor(x => x.Mobile, "", new { @class = "parsley-errors-list" })
                    </div>
                </div>
                <div class="form-field form-field--text ">
                    <label for="form-field-email-address" class="form-field__label">
                        @Translate.Text("email address label")
                        <span class="form-field__label-required aria-only">@Translate.Text("generic required label")</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        @Html.TextBoxFor(x => x.EmailAddress, new
                   {
                       @class = "form-field__input form-field__input--text",
                       @id = "form-field-email-address",
                       @placeholder = Translate.Text("email placeholder"),
                       @required = "required",
                       @name = "EmailAddress",
                       @type = "email",
                       @data_parsley_trigger = "focusout",
                       @data_parsley_error_message = Translate.Text("email validation message"),
                       @data_parsley_errors_container = "#description-for-email-address",
                       @aria_describedby = "description-for-email-address"
                   })
                    </span>
                    <div id="description-for-email-address" class="form-field__messages">
                        @Html.ValidationMessageFor(x => x.EmailAddress, "", new { @class = "parsley-errors-list" })
                    </div>
                </div>
            </fieldset>
            <fieldset class="fieldset ">
	            <legend class="legend">@Translate.Text("upload documentation label")</legend>

                @Html.Sitecore().Placeholder("j12/official-letter-uploader")

                <div class="form-field form-field--expander">
                    @Html.Sitecore().Placeholder("j12/official-letter-expander")
                </div>
            </fieldset>
            <div class="form-field__button">
                <button type="submit" class="button button--primary button--next">@Translate.Text("Submit")</button>
            </div>
            @*</form>*@
        </div>
    </div>
}
</div>

<script>
        docReady(function () {
            jQuery("input[name='Mobile']").attr('data-parsley-mobile_number', "");
            jQuery("select[name='SelectedBusinessPartnerKey']").on("change", function () {
                jQuery("input[name='SelectedBusinessPartnerValue']").val(jQuery("select[name='SelectedBusinessPartnerKey'] :selected").text());
            });
        });
    </script>
<script src="~/scripts/External/nml/form-submit-validate.js"></script>
