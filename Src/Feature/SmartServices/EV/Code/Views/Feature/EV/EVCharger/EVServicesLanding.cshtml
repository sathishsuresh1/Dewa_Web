@using DEWAXP.Feature.EV.Models.EVCharger
@using Sitecore.Globalization
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@model DEWAXP.Feature.EV.Models.EVCharger.Services


@Html.Sitecore().Placeholder("j100/m26-page-title")

<div class="grid__row">
    <div class="grid__column grid__column--12 grid__column--form">
        @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { @data_form = "true", @data_parsley_focus = "none", @class = "form", @id = "frmForm1" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.Step)

            <div class="form-field">
                <fieldset class="fieldset" id="divSelectService">
                    <legend class="legend-color">.</legend>
                    <div class="form-field">
                        <fieldset class="fieldset">
                            <legend class="legend-color">.</legend>
                            <p class="form-field__radio ">
                                <label>
                                    <input class="form-field__input form-field__input--radio" id="form-field-radio_1_1"
                                           name="Service"
                                           type="radio"
                                           value="1"
                                           aria-describedby="description-for-qiwuv2ro1"
                                           data-parsley-errors-container="#description-for-qiwuv2ro1">

                                    <span class="form-field__fakeradio focus-enabled">
                                        @Translate.Text("EV New Card Title")
                                    </span><br />
                                    <span class="form-field__description align-radio-desc">
                                        @Translate.Text("EV New Card Description")
                                    </span>
                                </label>
                            </p>

                            <p class="form-field__radio ">
                                <label>
                                    <input class="form-field__input form-field__input--radio" id="form-field-radio_1_3"
                                           name="Service"
                                           type="radio"
                                           value="2"
                                           aria-describedby="description-for-qiwuv2ro1"
                                           data-parsley-errors-container="#description-for-qiwuv2ro1">
                                    <span class="form-field__fakeradio focus-enabled">
                                        @Translate.Text("EV Deactivate Card Title")
                                    </span><br />
                                    <span class="form-field__description align-radio-desc">
                                        @Translate.Text("EV Deactivate Card Description")
                                    </span>
                                </label>
                            </p>

                            <p class="form-field__radio ">
                                <label>
                                    <input class="form-field__input form-field__input--radio" id="form-field-radio_1_2"
                                           name="Service"
                                           type="radio"
                                           value="3"
                                           aria-describedby="description-for-qiwuv2ro1"
                                           data-parsley-errors-container="#description-for-qiwuv2ro1">
                                    <span class="form-field__fakeradio focus-enabled">
                                        @Translate.Text("EV Replace Card Title")
                                    </span><br />
                                    <span class="form-field__description align-radio-desc">
                                        @Translate.Text("EV Replace Card Description")
                                    </span>
                                </label>
                            </p>



                            @*<p class="form-field__radio ">
            <label>
                <input class="form-field__input form-field__input--radio" id="form-field-radio_1_4"
                       name="Service"
                       type="radio"
                       value="4"
                       aria-describedby="description-for-qiwuv2ro1"
                       data-parsley-errors-container="#description-for-qiwuv2ro1">

                <span class="form-field__fakeradio focus-enabled">
                    @Translate.Text("EV Green Charger Card Enquiries Title")
                </span><br />
                <span class="form-field__description align-radio-desc">
                    @Translate.Text("EV Green Charger Card Enquiries Description")
                </span>
            </label>
        </p>

        <p class="form-field__radio ">
            <label>
                <input class="form-field__input form-field__input--radio" id="form-field-radio_1_5"
                       name="Service"
                       type="radio"
                       value="5"
                       aria-describedby="description-for-qiwuv2ro1"
                       data-parsley-errors-container="#description-for-qiwuv2ro1">

                <span class="form-field__fakeradio focus-enabled">
                    @Translate.Text("EV Track Card Status Title")
                </span><br />
                <span class="form-field__description align-radio-desc">
                    @Translate.Text("EV Track Card Status Description")
                </span>
            </label>
        </p>*@
                            <div id="description-for-qiwuv2ro1" class="form-field__messages">
                            </div>
                        </fieldset>
                    </div>
                </fieldset>

                <fieldset class="fieldset" id="divUserType" style="display:none;">
                    <legend class="legend-color">.</legend>
                    <div class="form-field">

                        <p class="form-field__radio">
                            <label>
                                @Html.RadioButtonFor(m => m.SelectedMethod, UserType.DewaCustomer, new
                       {@id="rsm1",
                           @class = "form-field__input form-field__input--radio",
                           @aria_describedby = "description-for-pwl28lhdv",
                           @checked = true,
                       })
                                <span class="form-field__fakeradio focus-enabled">
                                    <span class="verification--key">@Translate.Text("EV.Dewa Online Account")</span>
                                </span>
                            </label>
                        </p>

                        <p class="form-field__radio">
                            <label>
                                @Html.RadioButtonFor(m => m.SelectedMethod, UserType.NoDewaAccount, new
                           {
                               @id = "rsm2",
                               @class = "form-field__input form-field__input--radio",
                               @aria_describedby = "description-for-pwl28lhdv"
                           })
                                <span class="form-field__fakeradio focus-enabled">
                                    <span class="verification--key">@Translate.Text("EV.No Dewa Online Account")</span>
                                </span>
                            </label>
                        </p>

                        <p class="form-field__radio">
                            <label>
                                @Html.RadioButtonFor(m => m.SelectedMethod, UserType.NoDewaCustomer, new
                           {
                               @id = "rsm3",
                               @class = "form-field__input form-field__input--radio",
                               @aria_describedby = "description-for-pwl28lhdv"
                           })
                                <span class="form-field__fakeradio focus-enabled">
                                    <span class="verification--key">@Translate.Text("EV.No Dewa Customer")</span>
                                </span>
                            </label>
                        </p>

                        <div id="description-for-pwl28lhdv" class="form-field__messages"></div>
                    </div>
                </fieldset>

                <div class="form-field__button">
                    <button type="button" id="btnSubmit" class="button button--primary button--next" data-submission-text="@Translate.Text("Submitting")...">@Translate.Text("Continue")</button>
                </div>
            </div>

        }
    </div>
</div>

<script type="text/javascript">
    var isUserLoggedIn = @(Model.IsUserLoggedIn ? "true" : "false");
    var usertype_show = false;
    var frm = "#frmForm1";
    jQuery(function ($) {
        $('#btnSubmit').on("click",function (e) {
            e.preventDefault();
            if ($('input[name="Service"]:checked').val() !== "1") { return $(frm).submit();}
            //console.log('dddd');
            if (isUserLoggedIn === false ) {
                if (usertype_show === false) {
                    $('#divSelectService').css("display", "none");
                    $('#divUserType').css("display", "block");

                    usertype_show = true;
                } else {
                    $(frm).submit();
                }
            } else { return $(frm).submit();}
        });
    });

</script>