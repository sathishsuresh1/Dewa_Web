@using Sitecore.Globalization
@using Sitecore.Mvc
@using DEWAXP.Foundation.Helpers
@model DEWAXP.Feature.EV.Models.EVCharger.ApplyEVCard

<div class="grid__row">
    <div class="grid__column grid__column--12" id="main-skip">
        <div class="m26-page-title title_message">
            <div class="m26-page-title__links">
                <p class="m26-page-title__backlink">
                    <a class="button button--text button--back" href="@ViewBag.backlink">@Translate.Text("Back")</a>
                </p>
            </div>
            <h2 class="text__page-title">@Translate.Text("Create EV Account")</h2>
        </div>
    </div>
</div>
<div class="grid__row">
    <div class="grid__column grid__column--12 grid__column--form">
        @* @Html.Sitecore().Placeholder("j18/m14-formatted-text")*@
        @* @Html.Sitecore().Placeholder("j18/m38-step-tracker")*@
        @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")
    </div>
    <div class="grid__column grid__column--12 grid__column--form">
        <div class="m38-step-tracker" data-component="m38-step-tracker" data-total-steps="4" data-current-step="2">
            <div class="m38-step-tracker__progressbar" data-m38-progressbar="true" role="progressbar" aria-valuetext="EV Login Card">
            </div>
        </div>
    </div>
</div>

@*@Html.Sitecore().Placeholder("j87/m41-tab-box")*@

<div class="grid__row j109-ev-charger">
    <div class="grid__column grid__column--12 grid__column--form j104_1-move-out" id="evcardjourney" data-journey="j104-move-out">

        @using (Html.BeginRouteForm(Sitecore.Mvc.Configuration.MvcSettings.SitecoreRouteName, FormMethod.Post, new { @class = "form update-details-form", @id = "applyEVCardForm", data_form = "true", data_parsley_focus = "none", @data_submit_validate = "enabled", enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            <input id="RegistrationStage" name="RegistrationStage" type="hidden" value="@Model.RegistrationStage">

            <div class="form-field form-field--text" id="divEmailAddress">
                <label for="form-field-EmailAddress" class="form-field__label">
                    @Translate.Text("EV.Email Address")
                </label>
                <span class="form-field__input-wrapper">
                    @Html.TextBoxFor(x => x.EmailAddress,
                 new
                 {
                     @class = "form-field__input form-field__input--text",
                     @name = "EmailAddress",
                     @type = "email",
                     @id = "form-field-EmailAddress",
                     @placeholder = Translate.Text("EV.Email Address"),
                     @required = "",
                     @data_parsley_error_message = Translate.Text("EV.errorMessage_EmailAddress"),
                     @data_parsley_errors_container = "#description-for-EmailAddress",
                     @aria_describedby = "description-for-EmailAddress",
                 })
                </span>
                <div id="description-for-EmailAddress" class="form-field__messages">
                    @Html.ValidationMessageFor(x => x.EmailAddress, "", new { @class = "parsley-errors-list" })
                </div>
            </div>

            @*<div class="form-field form-field--text " id="divmobilenumber">
                    <label for="form-field-mobilenumber" class="form-field__label">
                        @Translate.Text("Mobile Number")
                        <span class="form-field__label-required aria-only">(@Translate.Text("Required"))</span>
                    </label>

                    <span class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">
                        @Html.TextBoxFor(x => x.MobileNumber,
                     new
                     {
                         @class = "form-field__input form-field__input--text form-field__input--prefixed keep-ltr",
                         @name = "MobileNumber",
                         @type = "tel",
                         @id = "form-field-MobileNumber",
                         @placeholder = Translate.Text("Mobile Number"),
                         @required = "",
                         @data_parsley_error_message = Translate.Text("EV.errorMessage_MobileNumber"),
                         @data_parsley_errors_container = "#description-for-MobileNumber",
                         @data_parsley_mobile_number = "",
                         @data_parsley_type = "digits",
                         @minlengh = 9,
                         @maxlength = 9,
                         @aria_describedby = "description-for-MobileNumber",
                     })
                    </span>
                    <div id="description-for-MobileNumber" class="form-field__messages">
                        @Html.ValidationMessageFor(x => x.MobileNumber, "", new { @class = "parsley-errors-list" })
                    </div>
                </div>*@

            <div class="form-field form-field--text" id="divMobileNumber">
                <label for="form-field-MobileNumber" id="lblMobileNumber" class="form-field__label">
                    @Translate.Text("EV.Mobile Number")
                    <span class="form-field__label-required aria-only">(@Sitecore.Globalization.Translate.Text("optional"))</span>
                </label>
                <span class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">

                    <input class="form-field__input form-field__input--text form-field__input--prefixed keep-ltr"
                           id="form-field-MobileNumber"
                           name="MobileNumber"
                           type="tel"
                           placeholder="@Translate.Text("EV.Mobile Number")"
                           aria-describedby="description-for-MobileNumber"
                           required=""
                           value="@Model.MobileNumber"
                           data-parsley-error-message="@Translate.Text("EV.errorMessage_MobileNumber")"
                           data-parsley-errors-container="#description-for-MobileNumber"
                           data-parsley-mobile_number=""
                           data-parsley-type="digits" />
                </span>
                <div id="description-for-MobileNumber" class="form-field__messages">
                    <p class="form-field__description form-field__description-icon-wrapper">
                        <span class="form-field__description-icon icon-new-announcement rot180 line-h0"></span>@Translate.Text("EV Mobile Info")
                    </p>
                    @Html.ValidationMessageFor(x => x.MobileNumber, "", new { @class = "parsley-errors-list" })
                </div>
            </div>


            <div class="form-field form-field--text" id="divpobox">
                <label for="form-field-pobox" class="form-field__label">
                    @Translate.Text("EV.POBox")
                    <span class="form-field__label-required aria-only">(@Translate.Text("Required"))</span>
                </label>

                <span class="form-field__input-wrapper">
                    @Html.TextBoxFor(x => x.POBox,
                 new
                 {
                     @class = "form-field__input form-field__input--text",
                     @name = "POBox",
                     @type = "number",
                     @id = "form-field-POBox",
                     @placeholder = Translate.Text("EV.POBox"),
                     @lang = "en",
                     @required = "",
                     @minlengh = 6,
                     @maxlength = 6,
                     @data_parsley_pobox = "",
                     @data_parsley_error_message = Translate.Text("EV.errorMessage_POBox"),
                     @data_parsley_errors_container = "#description-for-POBox",
                     @aria_describedby = "description-for-POBox",
                 })
                </span>
                <div id="description-for-POBox" class="form-field__messages">
                    @Html.ValidationMessageFor(x => x.POBox, "", new { @class = "parsley-errors-list" })
                </div>
            </div>
            <div class="form-field form-field--select form-field--select-single" id="divEmirate">
                <label for="form-field-EVEmirate" class="form-field__label">
                    @Translate.Text("EV PO Box Emirate") <span class="form-field__label-required aria-only">(@Translate.Text("required"))</span>
                </label>
                <label class="form-field__input-wrapper form-field__input-wrapper--select">
                    @Html.DropDownListFor(x => x.EmirateinDetail, Model.Emirates, @Translate.Text("EV.Select"),
         new
         {
             @class = "form-field__input form-field__input--select form-field__input--select-full",
             @id = "form-field-EVEmirate",
             @name = "select_EVEmirate",
             @aria_describedby = "description-for-EVEmirate",
             @required = "",
             @data_parsley_required_message = @Translate.Text("EV.Emirate error"),
             @data_parsley_errors_container = "#description-for-EVEmirate",
             @data_parsley_id = "15"
         })
                </label>
                <div id="description-for-EVEmirate" class="form-field__messages">
                    @Html.ValidationMessageFor(x => x.EmirateinDetail, "", new { @class = "parsley-errors-list" })
                </div>
            </div>
            <div id="personal-details-placeholder" class="form-field form-field--text">
                <div class="form-field__button">
                    <button type="submit" class="button button--primary button--next" data-submission-text="@Translate.Text("Submitting")...">@Translate.Text("Continue")</button>
                </div>
            </div>
        }
    </div>
</div>

<script type="text/javascript">
</script>
<script src="~/scripts/External/nml/form-submit-validate.js"></script>