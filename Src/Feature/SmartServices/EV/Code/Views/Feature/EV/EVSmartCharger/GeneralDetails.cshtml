@using Sitecore.Globalization
@using DEWAXP.Foundation.Helpers
@using Sitecore.Mvc
@model DEWAXP.Feature.EV.Models.EVSmartCharger.EV_Green_Charger_GeneralDetails
@{
    var direction = Sitecore.Context.Language.CultureInfo.TextInfo.IsRightToLeft ? "rtl" : "ltr";
}
<div class="grid j152-ev-smart-charge" data-journey="j152-ev-smart-charge" style="height: auto;">
    <div class="j152-ev-smart-charge-wrapper">
        <div class="grid__row">
            <div class="grid__column grid__column--12 grid__column--form">
                <div id="tracker">
                    @Html.Sitecore().Placeholder("j18/m38-step-tracker")
                </div>
            </div>
        </div>
        <div class="grid__row">
            <div class="grid__column grid__column--12 grid__column--form">
                <p class="text__content-copy--small align-center"><strong>@Translate.Text("EVSmart_generaldetailstitle")</strong></p>
                <p class="text__content-copy--small align-center">@Translate.Text("EVSmart_generaldetailssubtitle")</p>
            </div>
        </div>
        <div class="grid__row">
            <div class="grid__column grid__column--12 grid__column--form">

                @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")

                @using (Html.BeginRouteForm(Sitecore.Mvc.Configuration.MvcSettings.SitecoreRouteName, FormMethod.Post, new { @class = "form j152-ev-smart-charge-form", @id = "EVGreenGeneralDetails", data_form = "true", data_parsley_focus = "none", @data_submit_validate = "enabled", enctype = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()

                    <div class="form-field form-field--text ">
                        <label for="form-field-full_name" class="form-field__label">
                            @Translate.Text("FullName")
                        </label>
                        <span class="form-field__input-wrapper">
                            @Html.TextBoxFor(x => x.FullName,
                        new
                        {
                            @class = "form-field__input form-field__input--text",
                            @name = "full_name",
                            @id = "form-field-full_name",
                            @placeholder = @Translate.Text("Full Name placeholder"),
                            @required = "",
                            @data_parsley_pattern = "/^[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FFa-zA-Z ]+$/",
                            @data_parsley_error_message = Translate.Text("Full Name ErrorMessage"),
                            @data_parsley_errors_container = "#description-for-full_name",
                            @aria_describedby = "description-for-full_name",
                        })

                        </span>
                        <div id="description-for-full_name" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.FullName, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>

                    <div class="form-field form-field--text ">
                        <label for="form-field-EmailAddress" class="form-field__label">
                            @Translate.Text("Email Address")
                        </label>
                        <span class="form-field__input-wrapper">
                            @Html.TextBoxFor(x => x.EmailAddress,
                    new
                    {
                        @class = "form-field__input form-field__input--text",
                        @name = "EmailAddress",
                        @id = "form-field-EmailAddress",
                        @placeholder = @Translate.Text("Email Address placeholder"),
                        @required = "",
                        @data_parsley_error_message = Translate.Text("Email Address ErrorMessage"),
                        @data_parsley_errors_container = "#description-for-EmailAddress",
                        @aria_describedby = "description-for-EmailAddress",
                        @type = "email"
                    })

                        </span>
                        <div id="description-for-EmailAddress" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.EmailAddress, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>


                    <div class="form-field form-field--text  ">
                        <label for="form-field-MobileNumber" class="form-field__label">
                            @Translate.Text("Mobile Number International")
                        </label>
                        <span class="form-field__input-wrapper form-field__input-wrapper--prefixedNEW">
                            <span class="form-field__input-wrapper--mobile-numberNEW">
                                @Html.DropDownListFor(model => model.CountryCode, (List<SelectListItem>)ViewBag.CountryCallingCodesList, new
                       {
                           @class = "form-field__input-prefix--mobile-number",
                           @id = "CountryCode",
                           @required = "required",
                           @data_parsley_errors_container = "#description-for-CountryCode",
                           @aria_describedby = "description-for-CountryCode",
                       })
                                <input type="tel"
                                       name="MobileNumber"
                                       id="form-field-MobileNumber"
                                       value="@Model.MobileNumber"
                                       aria-describedby="description-for-MobileNumber"
                                       required=""
                                       placeholder="@Translate.Text("Mobile Number International placeholder")"
                                       data-parsley-required-message="@Translate.Text("Mobile Number International Error Message")"
                                       data-parsley-minlength-message="@Translate.Text("Mobile Number International Error Message")"
                                       data-parsley-maxlength-message="@Translate.Text("Mobile Number International Error Message")"
                                       data-parsley-pattern-message="@Translate.Text("Mobile Number Error Message")"
                                       data-parsley-type="digits"
                                       data-parsley-trigger="focusout"
                                       data-parsley-minlength="7"
                                       data-max-length="15"
                                       data-parsley-maxlength="15"
                                       data-parsley-errors-container="#description-for-MobileNumber"
                                       class="form-field__input form-field__input--text form-field__input--prefixed">
                            </span>
                        </span>
                        <div id="description-for-MobileNumber" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.MobileNumber, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>
                    <div class="form-field form-field--text ">
                        <label for="form-field-PlateNumber" class="form-field__label">
                            @Translate.Text("EVSmart.Car Plate Number")
                            <span class="form-field__label-required aria-only">(@Translate.Text("Required"))</span>
                        </label>
                        <span class="form-field__input-wrapper">
                            <input class="form-field__input form-field__input--text"
                                   id="form-field-PlateNumber"
                                   name="PlateNumber"
                                   value="@Model.PlateNumber"
                                   type="text"
                                   placeholder="@Translate.Text("EVSmart.Car Plate Number placeholder")"
                                   aria-describedby="description-for-PlateNumber"
                                   required=""
                                   maxlength="15"
                                   data-parsley-maxlength="15"
                                   data-parsley-pattern="/^[a-zA-Z0-9 ]+$/" ,
                                   data-parsley-error-message="@Translate.Text("EVSmart.Car Plate Number Error Message")"
                                   data-parsley-errors-container="#description-for-PlateNumber" />
                        </span>
                        <div id="description-for-PlateNumber" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.PlateNumber)
                        </div>
                    </div>

                    <div class="form-field form-field--text" id="vatnumberdiv">
                        <label for="form-field-vatnumber" id="vatnumber" class="form-field__label">
                            @Translate.Text("Vatnumber")@("(" + Translate.Text("optional") + ")")
                            <span class="form-field__label-required aria-only">(@Translate.Text("optional"))</span>
                        </label>
                        <span class="form-field__input-wrapper">
                            <input class="form-field__input form-field__input--text "
                                   id="form-field-vatnumber"
                                   name="vatnumber"
                                   maxlength="20"
                                   minlength="15"
                                   data-parsley-maxlength="20"
                                   data-parsley-minlength="15"
                                   placeholder="@Translate.Text("VatnumberPlaceholder")"
                                   aria-describedby="description-for-vatnumber"
                                   data-parsley-errors-container="#description-for-vatnumber"
                                   data_parsley-type="alphanum"
                                   data-parsley-error-message="@Translate.Text("VatnumberPlaceholder")"
                                   value="@Model.VatNumber" />
                        </span>
                        <div id="description-for-vatnumber" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.VatNumber, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>

                    <div class="form-field__button form-field__button-full">
                        <button type="submit" class="button button--primary" data-submission-text="@Translate.Text("Submitting")...">@Translate.Text("Next")</button>
                    </div>
                    <div class="form-field__button m14-richtext">@Html.Raw(@Translate.Text("EV_HelpText"))</div>
                }
            </div>
        </div>
    </div>
</div>

<script src="~/scripts/External/nml/form-submit-validate.js"></script>