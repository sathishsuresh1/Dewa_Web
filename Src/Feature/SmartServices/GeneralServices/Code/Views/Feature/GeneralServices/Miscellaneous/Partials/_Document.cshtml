@using Sitecore.Globalization
@using Sitecore.Mvc
@using DEWAXP.Foundation.Content
@model HttpPostedFileBase
@{
    string documentname = ViewData["Filename"].ToString();
    bool isrequired = ViewData["isrequired"] != null ? Boolean.Parse(ViewData["isrequired"].ToString()) : false;
    string name = ViewData["name"].ToString();


    string fileType = AttachmentValidation.acceptedFileTypesClientSide;

    if (!string.IsNullOrEmpty(Convert.ToString(ViewData["fileType"])))
    {
        fileType = Convert.ToString(ViewData["fileType"]);
    }


    string fileTypeAccept = "image/png,image/x-png,image/jpeg,image/jpg,image/bmp,image/gif,application/pdf,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document";

    if (!string.IsNullOrEmpty(Convert.ToString(ViewData["fileTypeAccept"])))
    {
        fileTypeAccept = Convert.ToString(ViewData["fileTypeAccept"]);
    }



    string fileDescription = Translate.Text(DictionaryKeys.MoveIn.MaxFileSize);

    if (!string.IsNullOrEmpty(Convert.ToString(ViewData["fileDescription"])))
    {
        fileDescription = Convert.ToString(ViewData["fileDescription"]);
    }

}

<div class="form-field form-field--upload">
    @*<a href="/upload/enbd_sample_file.xlsx" class="button button--text button--next" aria-describedby="download-">@Translate.Text("Download Sample File")</a>*@
    @Html.Sitecore().Placeholder("predoc-content")
    <div class="form-field__input-wrapper">
        <div class="form-field__preview-wrapper">
            <img src="/images/preview@2x.png" data-src="/images/preview@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="@documentname">
        </div>
        <div class="form-field__uploader-details">
            <label for="form-field-@documentname" class="form-field__label">
                <strong class="form-field__label-description">@Translate.Text(name)</strong>
            </label>
            <div>
                <label>
                    @if (isrequired)
                    {
                        <input class="form-field__input form-field__input--upload"
                               id="form-field-@documentname"
                               name="@documentname"
                               type="file"
                               aria-describedby="description-for-@documentname"
                               data-uploader-field="@documentname"
                               @*aria-required="true"*@
                               required="required"
                                data-accepts='@(fileType)'
                               data-size="@AttachmentValidation.maximumFileSize"
                               data-parsley-errors-container="#errors-for-@documentname"
                               data-parsley-error-message='@Translate.Text("Please select a file")'
                               accept="@Html.Raw(fileTypeAccept)"
                               data-parsley-id="12" />
                    }
                    else
                    {
                        <input class="form-field__input form-field__input--upload"
                               id="form-field-@documentname"
                               name="@documentname"
                               type="file"
                               aria-describedby="description-for-@documentname"
                               data-uploader-field="@documentname"
                               data-accepts='@(fileType)'
                               data-size="@AttachmentValidation.maximumFileSize"
                               data-parsley-errors-container="#errors-for-@documentname"
                               data-parsley-error-message='@Translate.Text("Please select a file")'
                               accept="@Html.Raw(fileTypeAccept)"
                               data-parsley-id="12" />
                    }

                    <span class="button button--primary button--next button--small focus-enabled">@Translate.Text("Choose")</span>
                </label>
            </div>
            <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("invalid file type validation message")</p>
            <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("file too large validation message")</p>
            <p class="form-field__input--upload-filename" data-uploader-filename="@documentname"></p>
            <p>
                <button class="button button--text button--remove hidden" data-uploader-remove="@documentname">@Translate.Text("Remove")</button>
            </p>
        </div>
    </div>
    <div id="description-for-@documentname" class="form-field__messages">
        <div id="errors-for-@documentname">
        </div>
        <p class="form-field__description">@Html.Raw(fileDescription)</p>
    </div>
</div>
