@using DEWAXP.Foundation.Helpers
@using Sitecore.Globalization
@using Sitecore.Mvc
@using Glass.Mapper.Sc.Web.Mvc
@using Sitecore.Mvc.Configuration
@model DEWAXP.Feature.SupplyManagement.Models.Track.TrackRequestAnonymous


<div class="j105-drrg">
    <div class="m66-preloader j105-drrg--loader hidden">
        <div class="grid">
            <div class="grid__row">
                <div class="grid__column grid__column--12">
                    <h2 class="text__section-subtitle">@Translate.Text("J100.Pleasewait")</h2>
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="grid j141-tracking-anonymous">
    <div class="grid__row">
        <div class="grid__column grid__column--12">
            @*<button class="j120-smart-response--button">@Translate.Text("TRA_Back")</button>*@
            @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { @class = "form form--inline", @id = "TrackRequestAnonymous", @data_form = "true", @novalidate = string.Empty }))
            {
                @Html.Sitecore().FormHandler()
                @Html.AntiForgeryToken()
                <legend class="j141-tracking--legend">
                    @Translate.Text("TRA_TrackRequests")
                </legend>
                @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")
                <div class="form-field form-field--text">
                    <label for="form-field-hj46d265d" class="form-field__label">
                        @Translate.Text("TRA_EnterRequestNoOrAccountNo")
                    </label>
                    <span class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--search">
                        <input class="form-field__input form-field__input--text form-field__input--prefixed" id="form-field-acc_number"
                               name="AccountOrRequestNumber"
                               type="number"
                               @*maxlength="10"*@
								data-parsley-minlength="1"
								data-parsley-maxnumber="12"
								autocomplete="off"
								@*data-parsley-type="number"*@
                               placeholder="@Translate.Text("TRA_RequestNumberOrAccountNumber")"
                               aria-describedby="description-for-accountnumber"
                               data-parsley-errors-container="#description-for-accountnumber"
                               required=""
                               data-parsley-required-message="@Translate.Text("TRA_ValidAccountNoRequestNo")"
                                data-parsley-error-message="@Translate.Text("TRA_ValidAccountNoRequestNo")"
                               value="@(Model!= null && !string.IsNullOrWhiteSpace(Model.AccountOrRequestNumber)?Model.AccountOrRequestNumber  : string.Empty)" />
                    </span>
                    <div id="description-for-accountnumber" class="form-field__messages">
                    </div>
                </div>

                <div class="form-field__button">
                    <button class="button button--primary" id="btnSearch" type="submit">@Translate.Text("TRA_ViewStatus")</button>
                </div>
            }
        </div>
    </div>
</div>
<script type="text/javascript">
    jQuery('#TrackRequestAnonymous').submit(function (e) {
        e.preventDefault();
        if (jQuery("#TrackRequestAnonymous").parsley().validate()) {
            jQuery('.j105-drrg--loader').show();
            jQuery('.j105-drrg--loader').css('top', $(window).scrollTop());
            $('body').removeClass('unscrollable').addClass('unscrollable');
        }
        return false;
    });
</script>