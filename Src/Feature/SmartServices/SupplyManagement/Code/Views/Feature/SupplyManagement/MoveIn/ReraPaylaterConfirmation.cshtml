@using DEWAXP.Foundation.Helpers
@using Sitecore.Globalization
@using Sitecore.Mvc
@using DEWAXP.Foundation.Content
@model DEWAXP.Foundation.Content.Models.Payment.ReraPaymentModel

@Html.Sitecore().Placeholder("j25/page-title")

<div class="grid__row">
    <div class="grid__column grid__column--12 grid__column--form">
        @Html.Sitecore().Placeholder("step-tracker")
    </div>
</div>

<div class="grid__row">
    <div class="grid__column grid__column--12">
        <div class="m40-status-message m40-status-message--success icon icon-new-success-message" data-component="m40-status-message">
            <div class="m40-status-message__title">@Translate.Text("Movein.request submitted")</div>
            @if (Model.PayOther)
            {
                <div class="m40-status-message__text">@Translate.Text("movein.moveinpayothertext")</div>
            }
            else if (Model.Total > 0.0)
            {
                <div class="m40-status-message__text">@string.Format(Translate.Text("movein.requesttext"), Model.Total.ToString("0,0.00")) </div>
            }
            else
            {
                <div class="m40-status-message__text">@string.Format(Translate.Text("movein.requesttextwithoutamount"), Model.Total.ToString("0,0.00")) </div>
            }
            <p>
                <button class="button button--text button--printer noprint" data-print="page">@Translate.Text("Print this page")</button>
            </p>
        </div>
    </div>
</div>

<div class="grid__row">
    <div class="grid__column grid__column--12 grid__column--form">
        <fieldset class="fieldset ">
            <legend class="legend-color">.</legend>
            <div class="form-field form-field--account-details">
                <div class="m42-keyvalue">
                    <dl>
                        <dt class="m42-keyvalue__key">@Translate.Text("Movein.referrence")</dt>
                        <dd class="m42-keyvalue__value">@Model.MoveinNotificationnumber</dd>
                    </dl>
                </div>
            </div>
        </fieldset>
        <div class="form-field__button">
        </div>
    </div>
</div>

<div class="grid__row noprint">
    <div class="grid__column grid__column--12 grid__column--centered grid__column--form">
        <h2 class="text__section-title">@Translate.Text("WhatNext")</h2>

        @if (Model.messagewhatsnext != null && Model.messagewhatsnext.Length > 0)
        {
            foreach (var txt in Model.messagewhatsnext)
            {
                <p class="text__content-copy">@txt</p>
            }
        }

        @if (Model.PayOther)
        {
            if (Model.Easypayflag && Model.payotherchannelflag)
            {
                if (Model.Easypayflag)
                {
                    <div class="button-container--single">
                        <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.EASYPAY)" class="button button--primary" role="button">@Translate.Text("movein.confirmation.easypay")</a>
                    </div>
                }
                if (Model.payotherchannelflag)
                {
                    <br />
                    <div class="link button--text">
                        <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.Methodofbillpayment)" class="link button--text" role="button"><strong>@Translate.Text("movein.confirmation.methodofbillpayment")</strong></a>
                    </div>
                }
            }
            else if (Model.payotherchannelflag)
            {
                <div class="button-container--single">
                    <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.Methodofbillpayment)" class="button button--primary" role="button"><strong>@Translate.Text("movein.confirmation.methodofbillpayment2")</strong></a>
                </div>
            }
        }
        else
        {
            <div class="button-container--single">
                <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J69_CUSTOMER_DASHBOARD)" class="button button--primary button--next" role="button">@Translate.Text(DictionaryKeys.Global.Home)</a>
            </div>
        }


    </div>
</div>
