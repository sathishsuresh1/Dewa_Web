@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@using Glass.Mapper.Sc.Fields
@using Sitecore.Globalization
@using _scPageItemId = DEWAXP.Foundation.Content.ScPageItemId
@model DEWAXP.Feature.HR.Models.CareerPortal.SearchJobModel
@using DEWAXP.Foundation.Content

<div class="j105-drrg">
    <div class="m66-preloader j105-drrg--loader hidden">
        <div class="grid">
            <div class="grid__row">
                <div class="grid__column grid__column--12">
                    <h2 class="text__section-subtitle">@Translate.Text("J100.Pleasewait")</h2>
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="grid j126-career-portal" data-journey="j126-career-portal">
    <div class="grid__row">
        <div class="grid__column grid__column--12">
            <!-- m26-page-title-start -->
            <div class="m26-page-title ">
                <div class="m26-page-title__links">
                </div>
                <h2 class="text__page-title">@Translate.Text("job search title")</h2>
            </div>
            <!-- m26-page-title-end -->
        </div>
    </div>
    <div class="grid__row">
        <div class="grid__column grid__column--12 grid__column--form">
            <p class="text__content-copy form-field__label">@Html.Raw(Translate.Text("job search intro title"))</p>
            <p class="text__content-copy">@Html.Raw(Translate.Text("job search introduction"))</p>
            @*<p class="text__content-copy">@Translate.Text("registration all fields validation message")</p>*@
            @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, new { }, FormMethod.Post, new { @id = "jobSearchForm", @data_parsley_focus = "true", @data_form = "true", @class = "form", @novalidate = string.Empty, @autocomplete = "off" }))
            {
                @Html.AntiForgeryToken()
                @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")
                @*<div class="form-field form-field--text form-field--textblock">
                        <p class="text__content-copy--small">@Translate.Text("terms and condition label") <a class="link" href="#">@Translate.Text("terms and conditions")</a>.</p>
                    </div>*@
                <div class="form-field form-field--text">
                    <label for="form-field-keyword" class="form-field__label">
                        @Translate.Text("keyword")
                        <span class="form-field__label-required aria-only">(required)</span>
                    </label>
                    <span class="form-field__input-wrapper">
                        @Html.TextBoxFor(x => x.Keyword, new
                   {
                       @class = "form-field__input form-field__input--text",
                       @id = "form-field-keyword",
                       @name = "Keyword",
                       @type = "text",
                       @placeholder = Translate.Text("keyword"),
                       @aria_describedby = "description-for-keyword",
                       @data_parsley_errors_container = "#description-for-u3n79xnq7",
                       @data_parsley_required_message = Translate.Text("required validation message"),
                       @data_parsley_trigger = "focusout",
                       @tabindex = "1"
                   })
                    </span>
                    <div id="description-for-keyword" class="form-field__messages">
                    </div>
                </div>
                @*<div class="form-field form-field--select form-field--select-single">
                        <label for="form-field-zgs17j2s1" class="form-field__label">
                            @Translate.Text("search method label")
                            <span class="form-field__label-required aria-only">(required)</span>
                        </label>
                        <span class="form-field__input-wrapper form-field__input-wrapper--select">
                            <select class="form-field__input form-field__input--select form-field__input--select-full "
                                    id="form-field-searchmethod"
                                    name="bachlor"
                                    aria-describedby="description-for-searchmethod"
                                    data-parsley-errors-container="#description-for-searchmethod"
                                    data-parsley-required-message="This field is required">
                                <option value="" selected>With all of the words</option>
                                <option value="1">With at least one of the words</option>
                                <option value="2">With the exact word group</option>
                            </select>
                        </span>
                        <div id="description-for-searchmethod" class="form-field__messages">
                        </div>
                    </div>*@
                if (Model.Functionalarea != null && Model.Functionalarea.Count > 0)
                {
                    <div class="form-field form-field--select form-field--select-single">
                        <label for="form-field-Functionalarea" class="form-field__label">
                            @Translate.Text("functional areas label")
                            <span class="form-field__label-required aria-only">(required)</span>
                        </label>
                        <span class="form-field__input-wrapper form-field__input-wrapper--select">

                            @Html.DropDownListFor(x => x.Functionalareacode, new SelectList(Model.Functionalarea, "Code", "Description"), Translate.Text("All"), new
                       {
                           @class = "form-field__input form-field__input--select form-field__input--select-full",
                           @data_parsley_id = "1",
                           @id = "form-field-Functionalarea",
                           @aria_describedby = "description-for-Functionalarea",
                           @data_parsley_errors_container = "#description-for-Functionalarea",

                       })
                        </span>
                        <div id="description-for-Functionalarea" class="form-field__messages">
                        </div>
                    </div>
                }
                if (Model.Hierarcylevel != null && Model.Hierarcylevel.Count > 0)
                {
                    <div class="form-field form-field--select form-field--select-single">
                        <label for="form-field-Hierarcy" class="form-field__label">
                            @Translate.Text("hierarchy level label")
                            <span class="form-field__label-required aria-only">(required)</span>
                        </label>
                        <span class="form-field__input-wrapper form-field__input-wrapper--select">

                            @Html.DropDownListFor(x => x.Hierarcy, new SelectList(Model.Hierarcylevel, "Code", "Description"), Translate.Text("All"), new
                       {
                           @class = "form-field__input form-field__input--select form-field__input--select-full",
                           @data_parsley_id = "1",
                           @id = "form-field-Hierarcy",
                           @aria_describedby = "description-for-Hierarcy",
                           @data_parsley_errors_container = "#description-for-Hierarcy",
                       })

                        </span>
                        <div id="description-for-Hierarcy" class="form-field__messages">
                        </div>
                    </div>
                }
                @*<div class="form-field">
                        <fieldset class="fieldset">
                            <legend class="form-field__label">
                                @Translate.Text("search method label")
                                <span class="form-field__label-required aria-only">(required)</span>
                            </legend>
                            <p class="form-field__radio ">
                                <label>
                                    <input class="form-field__input form-field__input--radio" id="form-field-scored_yes" name="scored" type="radio" value="1" aria-describedby="description-for-9noiopl2j" data-parsley-errors-container="#description-for-9noiopl2j" checked>
                                    <span class="form-field__fakeradio focus-enabled">
                                        @Translate.Text("all search criteria must be filled")
                                    </span>
                                </label>
                            </p>
                            <p class="form-field__radio ">
                                <label>
                                    <input class="form-field__input form-field__input--radio" id="form-field-scored_no" name="scored" type="radio" value="2" aria-describedby="description-for-9noiopl2j" data-parsley-errors-container="#description-for-9noiopl2j">
                                    <span class="form-field__fakeradio focus-enabled">
                                       @Translate.Text("one search criteria must be filled")
                                    </span>
                                </label>
                            </p>
                            <div id="description-for-9noiopl2j" class="form-field__messages">
                            </div>
                        </fieldset>
                    </div>*@
                <div class="form-field__button">
                    <button id="searchButton" type="submit" class="button button--primary" data-submission-text="@Translate.Text("start button text")...">@Translate.Text("start button text")</button>
                    <button type="button" class="button button--primary" onclick="reset();">@Translate.Text("reset button text")</button>
                </div>
            }

        </div>
    </div>
</div>
<script language="javascript" type="text/javascript">
    jQuery(document).ready(function () {
        jQuery('#searchButton').on('click', function () {
            jQuery('.j105-drrg--loader').show();
            jQuery('.j105-drrg--loader').css('top', $(window).scrollTop());
            $('body').removeClass('unscrollable').addClass('unscrollable');
        });
        function reset() {
            jQuery("#form-field-Functionalarea").val('');
            jQuery("#form-field-Hierarcy").val('');
            jQuery("#form-field-keyword").val('');
            jQuery("#form-field-keyword").parent('span').removeClass('form-field__input-wrapper--validated');
        }
    });
</script>

