@model DEWAXP.Foundation.Content.Models.AccountModel.LoginModel
@using DEWAXP.Foundation.Helpers
@using DEWAXP.Foundation.Content
@using Glass.Mapper.Sc.Fields
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@using Sitecore.Globalization

<div class="j07-customer-login">
    <div class="grid">
        <div class="grid__row">
           <div class="grid__column grid__column--12 grid__column--form">
                @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")
                <div class="m12-myaccount__login-form">
                    <h2 class="m12-subsection__title">@Translate.Text("Consumer Login")</h2>
                    @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, new { returnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @id = "consumerForm", @data_parsley_focus = "true", @data_form = "true", @class = "form", @data_submit_validate = "enabled", @novalidate = string.Empty, @autocomplete = "off" }))
                    {
                        @Html.Sitecore().FormHandler()
                        @Html.AntiForgeryToken()
                        

                        <div class="form-field form-field--text">
                            <label for="form-field-login-main-username" class="form-field__label">
                                @Translate.Text("username label")

                            </label>
                            <span class="form-field__input-wrapper">
                                @Html.TextBoxFor(x => x.Username, new
                           {
                               @class = "form-field__input form-field__input--text",
                               @type = "text",
                               @id = "form-field-login-main-username",
                               @placeholder = Translate.Text("username label"),
                               @required = "required",
                               @data_parsley_error_message = Translate.Text("register username validation message"),
                               @data_parsley_errors_container = "#description-for-login-main-username",
                               @aria_describedby = "description-for-login-main-username",
                               @tabindex = "1",
                               @maxlength="20"
                           })
                            </span>
                            <div id="description-for-login-main-username" class="form-field__messages">
                                @Html.ValidationMessageFor(x => x.Username, "", new { @class = "parsley-errors-list" })
                                <p class="form-field__helplink">
                                    <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_FORGOT_USERNAME)">@Translate.Text("forgot username link text")</a>
                                </p>
                            </div>
                        </div>
                        <div class="form-field form-field--text mt0">
                            <label for="form-field-login-main-password" class="form-field__label">
                                @Translate.Text("login password label")

                            </label>
                            <span class="form-field__input-wrapper">
                                @Html.PasswordFor(x => x.Password, new
                           {
                               @class = "form-field__input form-field__input--text",
                               @id = "form-field-login-main-password",
                               @placeholder = Translate.Text("login password label"),
                               @type = "password",
                               @required = "required",
                               @data_parsley_errors_container = "#description-for-login-main-password",
                               @aria_describedby = "description-for-login-main-password",
                               @data_parsley_error_message = Translate.Text(DictionaryKeys.Global.Login.PleaseEnterPassword),

                               @autocomplete = "off",
                               @tabindex = "1"
                           })
                            </span>
                            <div id="description-for-login-main-password" class="form-field__messages">
                                @Html.ValidationMessageFor(x => x.Password, "", new { @class = "parsley-errors-list" })
                                <p class="form-field__helplink">
                                    <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_FORGOT_PASSWORD)">@Translate.Text("forgot password link text")</a>
                                </p>
                            </div>
                        </div>

                        <div class="form-field__button">
                            <button id="loginButton" type="submit" class="button button--primary" data-submission-text="@Translate.Text("Logging in")...">@Translate.Text("login button text")</button>
                        </div>

                    }
                    <span class="create form-links">
                        @Translate.Text("or") <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J9_CUSTOMER_REGISTRATION)" class="form-links__link"> @Translate.Text("header.createnewaccount")</a>
                    </span>
                </div>
                @Html.Sitecore().Placeholder("loginsession")
            </div>
        </div>
    </div>
</div>
<script src="~/scripts/External/nml/form-submit-validate.js"></script>