@model DEWAXP.Foundation.Content.Models.AccountModel.LoginModel
@using DEWAXP.Foundation.Helpers
@using DEWAXP.Foundation.Content
@using Glass.Mapper.Sc.Fields
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@using Sitecore.Globalization

<div class="grid">

    <div class="grid__row">
        <div class="grid__column grid__column--12 grid__column--form">
            @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, new { returnUrl = ViewBag.ReturnUrl, channelId = Request.QueryString["channelId"], conversationId = Request.QueryString["conversationId"], surl = Request.QueryString["surl"], activityId = Request.QueryString["activityId"], fromId = Request.QueryString["fromId"], fromName = Request.QueryString["fromName"], toId = Request.QueryString["toId"], toName = Request.QueryString["toName"], languageCode = Request.QueryString["languageCode"], loginType = Request.QueryString["loginType"], refrm = Request.QueryString["ref"] }, FormMethod.Post, new { @data_parsley_focus = "true", @data_form = "true", @class = "form", @data_submit_validate = "enabled", @novalidate = string.Empty, @autocomplete = "off" }))
            {
                @Html.Sitecore().FormHandler()
                @Html.AntiForgeryToken()
                <input type="hidden" name="loginattempt" value="@ViewBag.loginattempt" />
                @Html.Partial("~/Views/Feature/CommonComponents/Shared/_SubmissionError.cshtml")

                <fieldset class="fieldset">
                    <legend class="legend-color">.</legend>
                    <div class="form-field form-field--text">
                        <label for="form-field-login-main-username" class="form-field__label">
                            @Translate.Text("username label")

                        </label>
                        <span class="form-field__input-wrapper">
                            @Html.TextBoxFor(x => x.Username, new
                       {
                           @class = "form-field__input form-field__input--text",
                           @type = "text",
                           @id = "form-field-login-main-username",
                           @placeholder = Translate.Text("username label"),
                           @required = "required",
                           @data_parsley_error_message = Translate.Text("register username validation message"),
                           @data_parsley_errors_container = "#description-for-login-main-username",
                           @aria_describedby = "description-for-login-main-username",
                           @maxlength="20"
                       })
                        </span>
                        <div id="description-for-login-main-username" class="form-field__messages">
                            @Html.ValidationMessageFor(x => x.Username, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>
                    <div class="form-field form-field--text">
                        <label for="form-field-login-main-password" class="form-field__label">
                            @Translate.Text("login password label")

                        </label>
                        <span class="form-field__input-wrapper">
                            @Html.PasswordFor(x => x.Password, new
                       {
                           @class = "form-field__input form-field__input--text",
                           @id = "form-field-login-main-password",
                           @placeholder = Translate.Text("login password label"),
                           @type = "password",
                           @required = "required",
                           @data_parsley_errors_container = "#description-for-login-main-password",
                           @aria_describedby = "description-for-login-main-password",
                           @data_parsley_error_message = Translate.Text(DictionaryKeys.Global.Login.PleaseEnterPassword),

                           @autocomplete = "off"
                       })
                        </span>
                        <div id="description-for-login-main-password" class="form-field__messages">

                            @Html.ValidationMessageFor(x => x.Password, "", new { @class = "parsley-errors-list" })
                        </div>
                    </div>
                </fieldset>
                <div class="form-field__button">
                    <button id="loginButton" type="submit" class="button button--primary" data-submission-text="@Translate.Text("Logging in")...">@Translate.Text("login button text")</button>
                    @*<span class="create form-links">
                            @Translate.Text("or") <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J9_CUSTOMER_REGISTRATION)" class="form-links__link"> @Translate.Text("header.createnewaccount")</a>
                        </span>*@
                </div>

            }
            @if (Request.QueryString["loginType"] == "authentication")
            {
                <ul class="form-links">
                    <li class="form-links__item"><a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J9_CUSTOMER_REGISTRATION)" class="form-links__link">@Translate.Text("header.createnewaccount")</a></li>
                    <li class="form-links__item"><a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_FORGOT_PASSWORD)" class="form-links__link">@Translate.Text("forgot password link text")</a></li>
                    @*<li class="form-links__item"><a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_FORGOT_USERNAME)" class="form-links__link">@Translate.Text("forgot username link text")</a></li>*@
                </ul>
            }
            @if (Request.QueryString["loginType"] == "jobseeker")
            {
                <ul class="form-links">
                    <li class="form-links__item"><a href="https://careers.dewa.gov.ae/irj/portal/anonymous/cnreg" class="form-links__link">@Translate.Text("header.createnewaccount")</a></li>
                    <li class="form-links__item"><a href="https://careers.dewa.gov.ae/irj/portal/anonymous/fpwd" class="form-links__link">@Translate.Text("forgot password link text")</a></li>
                    @*<li class="form-links__item"><a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_FORGOT_USERNAME)" class="form-links__link">@Translate.Text("forgot username link text")</a></li>*@
                </ul>
            }
            @*<div class="seperator" role="separator">
                    <p class="seperator__text">@Translate.Text("or")</p>
                </div>
                <div class="form-field__button">
                    <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J7_MY_ID_LOGIN)" class="button button--secondary button--fithtiary">@Translate.Text("MyID login CTA text")</a>
                </div>*@

        </div>
    </div>

    @*<div class="grid__row">
            <div class="grid__column grid__column--12 grid__column--form">
                <div class="links-list">
                    <h3 class="links-list__title">@Translate.Text("Not a customer")</h3>
                    <ul>
                        <li class="links-list__item"><a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.J8_GOVT_LOGIN_PAGE)" class="links-list__link">@Translate.Text("Government")</a></li>
                        <li class="links-list__item"><a href="https://crm.dewa.gov.ae/irj/portal/anonymous" class="links-list__link">@Translate.Text("Contractors & Consultants")</a></li>
                        <li class="links-list__item"><a href="https://srm.dewa.gov.ae/irj/portal/anonymous" class="links-list__link">@Translate.Text("Suppliers")</a></li>
                        <li class="links-list__item"><a href="https://e-services.dewa.gov.ae/partners/login.aspx" class="links-list__link">@Translate.Text("Partners")</a></li>
                        <li class="links-list__item"><a href="https://careers.dewa.gov.ae/irj/portal/anonymous/onbp?lang=en" class="links-list__link">@Translate.Text("Careers")</a></li>
                    </ul>
                </div>
            </div>
        </div>*@
</div>
<script src="~/scripts/External/nml/form-submit-validate.js"></script>