@using DEWAXP.Foundation.Helpers
@using Glass.Mapper.Sc.Fields
@using Sitecore.Mvc
@using Sitecore.Mvc.Configuration
@using Sitecore.Globalization
@using DEWAXP.Feature.GatePass.Models.ePass
@using DEWAXP.Foundation.Content
@model DEWAXP.Feature.GatePass.Models.ePass.PermanentPass

@{
    /**/

    var Nationalities = DEWAXP.Foundation.Helpers.Extensions.FormExtensions.GetSAPCountryList(Sitecore.Context.Language.CultureInfo.TextInfo.IsRightToLeft ? "ar" : "en", HttpContext.Current.Request.Headers["User-Agent"]);
    var GccCountries = EpassHelper.GetGccCountries().ToArray();
    var nowmax = DateHelper.DubaiNow().AddMonths(-1).AddDays(30);
    var FromToTime = EpassHelper.GetFromToTime();
    DateTime nowoneyear;
    var _visaExpiry = "";

    if (!string.IsNullOrWhiteSpace(Model.VisaExpiry))
    {
        //_visaExpiry = Model.VisaExpiry.Replace("January", "يناير").Replace("February", "فبراير").Replace("March", "مارس").Replace("April", "أبريل").Replace("May", "مايو").Replace("June", "يونيو").Replace("July", "يوليو").Replace("August", "أغسطس").Replace("September", "سبتمبر").Replace("October", "أكتوبر").Replace("November", "نوفمبر").Replace("December", "ديسمبر");
        _visaExpiry = Model.VisaExpiry.Replace("يناير", "January").Replace("فبراير", "February").Replace("مارس", "March").Replace("أبريل", "April").Replace("مايو", "May").Replace("يونيو", "June").Replace("يوليو", "July").Replace("أغسطس", "August").Replace("سبتمبر", "September").Replace("أكتوبر", "October").Replace("نوفمبر", "November").Replace("ديسمبر", "December");
    }
    if (!string.IsNullOrWhiteSpace(_visaExpiry) && Convert.ToDateTime(_visaExpiry).Ticks < DateHelper.DubaiNow().AddYears(1).Ticks)
    {
        nowoneyear = Convert.ToDateTime(_visaExpiry).AddMonths(-1);
    }
    else
    {
        nowoneyear = DateHelper.DubaiNow().AddMonths(-1).AddYears(1);
    }
}

<div class="grid__column grid__column--6 grid__column--form--small">
    @using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { @class = "form j113-epass--multi_attachment", data_form = "true", @id = "multilistepass", @data_submit_validate = "enabled", @name = "multilistepass", @novalidate = "novalidate", enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()

        <div class="m62-expand" data-component="m62-expand">
            <div data-m62-expands-menu="true">
                <ul class="m62-expand--container">
                    <li class="m62-expand--item">
                        <a class="m62-expand--trigger has-icon icon-profile">
                            <div class="m62-expand--title">@Translate.Text("Epass.Profile")</div>
                            <div class="m62-expand--subtitle">
                                @Translate.Text("Epass.Reviewdetails")
                            </div>
                            <div class="m62-expand--subtitle m62-expand--error red hidden" style="display: none;">
                                @Translate.Text("Epass.Inmissing")
                            </div>
                        </a>
                        <div class="m62-expand--content">
                            @if (Model.SubContractList != null)
                            {
                                <div class="form-field form-field--select form-field--select-single">
                                    <label for="form-field-SubContractorID" class="form-field__label">
                                        @Translate.Text("Epass.Subcontractor")
                                    </label>
                                    <span class="form-field__input-wrapper form-field__input-wrapper--select j113-epass--select_wrapper">
                                        @Html.DropDownListFor(x => x.SubContractorID, new SelectList(Model.SubContractList, "Name", "Name"), Translate.Text("None"), new
                                   {
                                       @class = "form-field__input form-field__input--select form-field__input--select-full",
                                       @aria_describedby = "description-for-SubContractorID",
                                       @data_parsley_id = "18",
                                       @id = "form-field-SubContractorID"
                                   })
                                    </span>

                                    <a href="@LinkHelper.GetItemUrl(SitecoreItemIdentifiers.EPASS_SUBCONTRACTOR)" class="j113-epass--add_item"><span>+</span>@Translate.Text("Epass.Add")</a>
                                    <div id="description-for-subcontractor" class="form-field__messages">
                                    </div>
                                </div>
                            }
                            <div class="form-field hidden">
                                <input name="id" id="form-field-epassid" aria-label="form-field-epassid">
                            </div>
                            <input type="hidden" name="CompanyName" id="CompanyName" />
                            <div class="form-field form-field--text">
                                <label for="form-field-fullname" class="form-field__label">
                                    @Translate.Text("Epass.FullnameasEID")
                                    <span class="form-field__label-required aria-only">
                                        @Translate.Text("Epass.Required")
                                    </span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input maxlength="80"
                                           data-parsley-maxlength="80"
                                           class="form-field__input form-field__input--text"
                                           id="form-field-fullname"
                                           name="full_name"
                                           type="text"
                                           data-parsley-pattern="/^[a-zA-Z -]*$/"
                                           placeholder="@Translate.Text("Epass.Fullname")"
                                           aria-describedby="description-for-fullname"
                                           data-parsley-errors-container="#description-for-fullname"
                                           required=""
                                           data-parsley-error-message="@Translate.Text("Epass.Fullname")"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="4">
                                </span>
                                <div id="description-for-fullname" class="form-field__messages">
                                </div>
                            </div>

                            <div class="form-field form-field--select form-field--select-single">
                                <label for="form-field-nationality" class="form-field__label">
                                    @Translate.Text("Epass.Nationality")
                                    <span class="form-field__label-required aria-only"> @Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--select form-field__input-wrapper--validated">
                                    <select class="form-field__input form-field__input--select2 form-field__input--select form-field__input--select-full"
                                            id="form-field-nationality"
                                            name="nationality"
                                            aria-describedby="description-for-nationality"
                                            data-parsley-errors-container="#description-for-nationality"
                                            required=""
                                            data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                            data-parsley-trigger="change"
                                            data-parsley-id="32">
                                        <option value="" selected="">
                                            @Translate.Text("Epass.Selectnationality")
                                        </option>
                                        @{
                                            foreach (var item in Nationalities)
                                            {
                                                <option value="@item.Value">@item.Text</option>
                                            }
                                        }
                                    </select>
                                </span>
                                <div id="description-for-nationality" class="form-field__messages">
                                </div>
                            </div>
                            <div class="form-field form-field--text  ">
                                <label for="form-field-profession" class="form-field__label">
                                    @Translate.Text("Epass.Profession")
                                    <span class="form-field__label-required aria-only">
                                        @Translate.Text("Epass.Required")
                                    </span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input maxlength="100"
                                           data-parsley-maxlength="100"
                                           class="form-field__input form-field__input--text"
                                           id="form-field-profession"
                                           name="profession"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Profession")"
                                           aria-describedby="description-for-profession"
                                           data-parsley-errors-container="#description-for-profession"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="8">
                                </span>
                                <div id="description-for-profession" class="form-field__messages">
                                </div>
                            </div>
                            <div class="form-field form-field--text ">
                                <label for="form-field-MobilePhone" class="form-field__label">@Translate.Text("movein.mobilenumber") <span class="form-field__label-required aria-only">(@Translate.Text("required"))</span></label>

                                <label class="form-field__input-wrapper form-field__input-wrapper--prefixed form-field__input-wrapper--mobile-number">
                                    @Html.TextBoxFor(x => x.Mobilenumber,
                                    new
                                    {
                                    @type = "tel",
                                    @class = "form-field__input form-field__input--text form-field__input--prefixed",
                                    @name = "MobilePhone",
                                    @id = "form-field-MobilePhone",
                                    @placeholder = Translate.Text("Enter UAE mobile number"),
                                    @data_parsley_error_message = Translate.Text("Please enter a valid UAE mobile number"),
                                    @data_parsley_errors_container = "#description-for-MobilePhone",
                                    @aria_describedby = "description-for-MobilePhone",
                                    @data_parsley_id = "14",
                                    @data_parsley_type = "digits",
                                    @data_parsley_mobilenumber = "",
                                    @step = "any"
                                    })

                                </label>
                                <div id="description-for-MobilePhone" class="form-field__messages">
                                    @Html.ValidationMessageFor(x => x.Mobilenumber, "", new { @class = "parsley-errors-list" })
                                </div>
                            </div>
                            <div class="form-field form-field--text ">
                                <label for="form-field-EmailAddress" class="form-field__label">@Translate.Text("Email Address") <span class="form-field__label-required aria-only">(@Translate.Text("required"))</span></label>
                                <label class="form-field__input-wrapper">
                                    @Html.TextBoxFor(x => x.Emailaddress,
                                    new
                                    {
                                    @class = "form-field-EmailAddress form-field__input form-field__input--text",
                                    @id = "form-field-EmailAddress",
                                    @placeholder = Translate.Text("Epass.Enteremailid"),
                                    @data_parsley_error_message = Translate.Text("Please enter a valid email address"),
                                    @data_parsley_errors_container = "#description-for-EmailAddress",
                                    @aria_describedby = "description-for-EmailAddress",
                                    @data_parsley_id = "14",
                                    @step = "any",
                                    @type = "email",
                                    @maxlength = "50",
                                    @data_parsley_trigger = "focusout",
                                    @data_parsley_maxlength = "50"
                                    })

                                </label>
                                <div id="description-for-EmailAddress" class="form-field__messages">
                                    @Html.ValidationMessageFor(x => x.Emailaddress, "", new { @class = "parsley-errors-list" })
                                </div>
                            </div>
                            <div class="form-field form-field--text  ">
                                <label for="form-field-emiratesID" class="form-field__label">
                                    @Translate.Text("Epass.EIdnumber")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input class="form-field__input form-field__input--text form-field__binding"
                                           id="form-field-emiratesID"
                                           name="emiratesID"
                                           type="number"
                                           placeholder="@Translate.Text("Epass.EIdnumber")"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           aria-describedby="description-for-emiratesID"
                                           data-parsley-errors-container="#description-for-emiratesID"
                                           data-parsley-emiratesid=""
                                           data-parsley-emiratesid-message="@Translate.Text("Epass.ValidEID")"
                                           data-parsley-trigger="focusout"
                                           data-bindingID="emiratesidbinding"
                                           data-parsley-id="10">
                                </span>
                                <div id="description-for-emiratesID" class="form-field__messages">
                                </div>
                            </div>
                            <div id="datepicker-container-eiddate" class="form-field form-field--text  ">
                                <label for="form-field-eiddate" class="form-field__label">
                                    @Translate.Text("Epass.EIDexpiry")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input class="form-field__input form-field__input--text  form-field__input--datepicker     picker__input form-field__binding"
                                           id="form-field-eiddate"
                                           name="EIDexpdate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.EIDexpiry")"
                                           aria-describedby="description-for-eiddate"
                                           data-parsley-errors-container="#description-for-eiddate"
                                           data-el="datepicker-future"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="12"
                                           readonly=""
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           data-bindingID="emiratesidbinding"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 36 , &quot;format&quot;: &quot;yyyy/mm/dd&quot; , &quot;min&quot;: [@nowmax.Year,@nowmax.Month,@(nowmax.Day)]}'>
                                    <span data-clicker="#datepicker-container-eiddate"
                                          class="form-field__datepicker-icon-clicker">
                                    </span><input type="hidden" name="EIDexpdate_submit">
                                </span>
                                <div id="description-for-eiddate" class="form-field__messages">
                                </div>
                                <div class="picker" id="form-field-eiddate_root" aria-hidden="true"><div class="picker__holder" tabindex="-1"><div class="picker__frame"><div class="picker__wrap"><div class="picker__box"><div class="picker__header"><div class="picker__month">March</div><div class="picker__year">2019</div><div class="picker__nav--prev picker__nav--disabled" data-nav="-1" role="button" aria-controls="form-field-eiddate_table" title="Previous month"> </div><div class="picker__nav--next" data-nav="1" role="button" aria-controls="form-field-eiddate_table" title="Next month"> </div></div><table class="picker__table" id="form-field-eiddate_table" role="grid" aria-controls="form-field-eiddate" aria-readonly="true"><thead><tr><th class="picker__weekday" scope="col" title="Sunday">Sun</th><th class="picker__weekday" scope="col" title="Monday">Mon</th><th class="picker__weekday" scope="col" title="Tuesday">Tue</th><th class="picker__weekday" scope="col" title="Wednesday">Wed</th><th class="picker__weekday" scope="col" title="Thursday">Thu</th><th class="picker__weekday" scope="col" title="Friday">Fri</th><th class="picker__weekday" scope="col" title="Saturday">Sat</th></tr></thead><tbody><tr><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1550952000000" role="gridcell" aria-label="24 February 2019" aria-disabled="true">24</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551038400000" role="gridcell" aria-label="25 February 2019" aria-disabled="true">25</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551124800000" role="gridcell" aria-label="26 February 2019" aria-disabled="true">26</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551211200000" role="gridcell" aria-label="27 February 2019" aria-disabled="true">27</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551297600000" role="gridcell" aria-label="28 February 2019" aria-disabled="true">28</div></td><td role="presentation"><div class="picker__day picker__day--infocus picker__day--disabled" data-pick="1551384000000" role="gridcell" aria-label="1 March 2019" aria-disabled="true">1</div></td><td role="presentation"><div class="picker__day picker__day--infocus picker__day--disabled" data-pick="1551470400000" role="gridcell" aria-label="2 March 2019" aria-disabled="true">2</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus picker__day--today picker__day--highlighted" data-pick="1551556800000" role="gridcell" aria-label="3 March 2019" aria-activedescendant="true">3</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551643200000" role="gridcell" aria-label="4 March 2019">4</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551729600000" role="gridcell" aria-label="5 March 2019">5</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551816000000" role="gridcell" aria-label="6 March 2019">6</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551902400000" role="gridcell" aria-label="7 March 2019">7</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551988800000" role="gridcell" aria-label="8 March 2019">8</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552075200000" role="gridcell" aria-label="9 March 2019">9</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552161600000" role="gridcell" aria-label="10 March 2019">10</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552248000000" role="gridcell" aria-label="11 March 2019">11</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552334400000" role="gridcell" aria-label="12 March 2019">12</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552420800000" role="gridcell" aria-label="13 March 2019">13</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552507200000" role="gridcell" aria-label="14 March 2019">14</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552593600000" role="gridcell" aria-label="15 March 2019">15</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552680000000" role="gridcell" aria-label="16 March 2019">16</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552766400000" role="gridcell" aria-label="17 March 2019">17</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552852800000" role="gridcell" aria-label="18 March 2019">18</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552939200000" role="gridcell" aria-label="19 March 2019">19</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553025600000" role="gridcell" aria-label="20 March 2019">20</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553112000000" role="gridcell" aria-label="21 March 2019">21</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553198400000" role="gridcell" aria-label="22 March 2019">22</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553284800000" role="gridcell" aria-label="23 March 2019">23</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553371200000" role="gridcell" aria-label="24 March 2019">24</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553457600000" role="gridcell" aria-label="25 March 2019">25</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553544000000" role="gridcell" aria-label="26 March 2019">26</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553630400000" role="gridcell" aria-label="27 March 2019">27</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553716800000" role="gridcell" aria-label="28 March 2019">28</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553803200000" role="gridcell" aria-label="29 March 2019">29</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553889600000" role="gridcell" aria-label="30 March 2019">30</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553976000000" role="gridcell" aria-label="31 March 2019">31</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554062400000" role="gridcell" aria-label="1 April 2019">1</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554148800000" role="gridcell" aria-label="2 April 2019">2</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554235200000" role="gridcell" aria-label="3 April 2019">3</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554321600000" role="gridcell" aria-label="4 April 2019">4</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554408000000" role="gridcell" aria-label="5 April 2019">5</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554494400000" role="gridcell" aria-label="6 April 2019">6</div></td></tr></tbody></table><div class="picker__footer"><button class="picker__button--today" type="button" data-pick="1551556800000" disabled="" aria-controls="form-field-eiddate">@Translate.Text("Epass.Today")</button><button class="picker__button--clear" type="button" data-clear="1" disabled="" aria-controls="form-field-eiddate">@Translate.Text("Epass.Clear")</button><button class="picker__button--close" type="button" data-close="true" disabled="" aria-controls="form-field-eiddate">@Translate.Text("Epass.Close")</button></div></div></div></div></div></div>
                            </div>
                            <div class="form-field form-field--text  ">
                                <label for="form-field-visa" class="form-field__label">
                                    @Translate.Text("Epass.Visanumber")
                                    <span class="form-field__label-required aria-only">
                                        @Translate.Text("Epass.Required")
                                    </span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input maxlength="15"
                                           data-parsley-maxlength="15"
                                           class="form-field__input form-field__input--text form-field__binding"
                                           id="form-field-visa"
                                           name="visa"
                                           type="number"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           placeholder="@Translate.Text("Epass.Visanumber")"
                                           aria-describedby="description-for-visa"
                                           data-parsley-errors-container="#description-for-visa"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="14"
                                           data-bindingID="visabinding"
                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
                                </span>
                                <div id="description-for-visa" class="form-field__messages">
                                </div>
                            </div>
                            <div id="datepicker-container-visadate" class="form-field form-field--text  ">
                                <label for="form-field-visadate" class="form-field__label">
                                    @Translate.Text("Epass.Visaexpirydate")
                                    <span class="form-field__label-required aria-only">
                                        @Translate.Text("Epass.Required")
                                    </span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input class="form-field__input form-field__input--text      form-field__input--datepicker     picker__input form-field__binding"
                                           id="form-field-visadate"
                                           name="visaexpdate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Visaexpirydate")"
                                           aria-describedby="description-for-visadate"
                                           data-parsley-errors-container="#description-for-visadate"
                                           data-el="datepicker-future"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="16"
                                           readonly=""
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           data-bindingID="visabinding"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 36 , &quot;format&quot;: &quot;yyyy/mm/dd&quot; , &quot;min&quot;: [@nowmax.Year,@nowmax.Month,@(nowmax.Day)]}'>
                                    <span data-clicker="#datepicker-container-visadate"
                                          class="form-field__datepicker-icon-clicker"></span>
                                    <input type="hidden" name="visaexpdate_submit">
                                </span>
                                <div id="description-for-visadate" class="form-field__messages">
                                </div>
                                <div class="picker" id="form-field-visadate_root" aria-hidden="true"><div class="picker__holder" tabindex="-1"><div class="picker__frame"><div class="picker__wrap"><div class="picker__box"><div class="picker__header"><div class="picker__month">March</div><div class="picker__year">2019</div><div class="picker__nav--prev picker__nav--disabled" data-nav="-1" role="button" aria-controls="form-field-visadate_table" title="Previous month"> </div><div class="picker__nav--next" data-nav="1" role="button" aria-controls="form-field-visadate_table" title="Next month"> </div></div><table class="picker__table" id="form-field-visadate_table" role="grid" aria-controls="form-field-visadate" aria-readonly="true"><thead><tr><th class="picker__weekday" scope="col" title="Sunday">Sun</th><th class="picker__weekday" scope="col" title="Monday">Mon</th><th class="picker__weekday" scope="col" title="Tuesday">Tue</th><th class="picker__weekday" scope="col" title="Wednesday">Wed</th><th class="picker__weekday" scope="col" title="Thursday">Thu</th><th class="picker__weekday" scope="col" title="Friday">Fri</th><th class="picker__weekday" scope="col" title="Saturday">Sat</th></tr></thead><tbody><tr><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1550952000000" role="gridcell" aria-label="24 February 2019" aria-disabled="true">24</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551038400000" role="gridcell" aria-label="25 February 2019" aria-disabled="true">25</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551124800000" role="gridcell" aria-label="26 February 2019" aria-disabled="true">26</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551211200000" role="gridcell" aria-label="27 February 2019" aria-disabled="true">27</div></td><td role="presentation"><div class="picker__day picker__day--outfocus picker__day--disabled" data-pick="1551297600000" role="gridcell" aria-label="28 February 2019" aria-disabled="true">28</div></td><td role="presentation"><div class="picker__day picker__day--infocus picker__day--disabled" data-pick="1551384000000" role="gridcell" aria-label="1 March 2019" aria-disabled="true">1</div></td><td role="presentation"><div class="picker__day picker__day--infocus picker__day--disabled" data-pick="1551470400000" role="gridcell" aria-label="2 March 2019" aria-disabled="true">2</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus picker__day--today picker__day--highlighted" data-pick="1551556800000" role="gridcell" aria-label="3 March 2019" aria-activedescendant="true">3</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551643200000" role="gridcell" aria-label="4 March 2019">4</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551729600000" role="gridcell" aria-label="5 March 2019">5</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551816000000" role="gridcell" aria-label="6 March 2019">6</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551902400000" role="gridcell" aria-label="7 March 2019">7</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1551988800000" role="gridcell" aria-label="8 March 2019">8</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552075200000" role="gridcell" aria-label="9 March 2019">9</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552161600000" role="gridcell" aria-label="10 March 2019">10</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552248000000" role="gridcell" aria-label="11 March 2019">11</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552334400000" role="gridcell" aria-label="12 March 2019">12</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552420800000" role="gridcell" aria-label="13 March 2019">13</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552507200000" role="gridcell" aria-label="14 March 2019">14</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552593600000" role="gridcell" aria-label="15 March 2019">15</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552680000000" role="gridcell" aria-label="16 March 2019">16</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552766400000" role="gridcell" aria-label="17 March 2019">17</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552852800000" role="gridcell" aria-label="18 March 2019">18</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1552939200000" role="gridcell" aria-label="19 March 2019">19</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553025600000" role="gridcell" aria-label="20 March 2019">20</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553112000000" role="gridcell" aria-label="21 March 2019">21</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553198400000" role="gridcell" aria-label="22 March 2019">22</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553284800000" role="gridcell" aria-label="23 March 2019">23</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553371200000" role="gridcell" aria-label="24 March 2019">24</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553457600000" role="gridcell" aria-label="25 March 2019">25</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553544000000" role="gridcell" aria-label="26 March 2019">26</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553630400000" role="gridcell" aria-label="27 March 2019">27</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553716800000" role="gridcell" aria-label="28 March 2019">28</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553803200000" role="gridcell" aria-label="29 March 2019">29</div></td><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553889600000" role="gridcell" aria-label="30 March 2019">30</div></td></tr><tr><td role="presentation"><div class="picker__day picker__day--infocus" data-pick="1553976000000" role="gridcell" aria-label="31 March 2019">31</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554062400000" role="gridcell" aria-label="1 April 2019">1</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554148800000" role="gridcell" aria-label="2 April 2019">2</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554235200000" role="gridcell" aria-label="3 April 2019">3</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554321600000" role="gridcell" aria-label="4 April 2019">4</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554408000000" role="gridcell" aria-label="5 April 2019">5</div></td><td role="presentation"><div class="picker__day picker__day--outfocus" data-pick="1554494400000" role="gridcell" aria-label="6 April 2019">6</div></td></tr></tbody></table><div class="picker__footer"><button class="picker__button--today" type="button" data-pick="1551556800000" disabled="" aria-controls="form-field-visadate">@Translate.Text("Epass.Today")</button><button class="picker__button--clear" type="button" data-clear="1" disabled="" aria-controls="form-field-visadate">@Translate.Text("Epass.Clear")</button><button class="picker__button--close" type="button" data-close="true" disabled="" aria-controls="form-field-visadate">@Translate.Text("Epass.Close")</button></div></div></div></div></div></div>
                            </div>
                            <div class="form-field form-field--text  ">
                                <label for="form-field-passport" class="form-field__label">
                                    @Translate.Text("Epass.Passportnumber")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input maxlength="15"
                                           data-parsley-maxlength="15"
                                           class="form-field__input form-field__input--text form-field__binding"
                                           id="form-field-passport"
                                           name="passport"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Passportnumber")"
                                           aria-describedby="description-for-passport"
                                           data-parsley-errors-container="#description-for-passport"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           data-parsley-trigger="focusout"
                                           data-bindingID="passportbinding"
                                           data-parsley-id="18">
                                </span>
                                <div id="description-for-passport" class="form-field__messages">
                                </div>
                            </div>
                            <div id="datepicker-container-passportdate" class="form-field form-field--text">
                                <label for="form-field-passportdate" class="form-field__label">
                                    @Translate.Text("Epass.Passportexpirydate")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input class="form-field__input form-field__input--text form-field__input--datepicker   picker__input form-field__binding"
                                           id="form-field-passportdate"
                                           name="passportexpdate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Passportexpirydate")"
                                           aria-describedby="description-for-passportdate"
                                           data-parsley-errors-container="#description-for-passportdate"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requirefield")"
                                           data-el="datepicker-future"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="20"
                                           readonly=""
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           data-bindingID="passportbinding"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 36 , &quot;format&quot;: &quot;yyyy/mm/dd&quot; , &quot;min&quot;: [@nowmax.Year,@nowmax.Month,@(nowmax.Day)]}'>
                                    <span data-clicker="#datepicker-container-passportdate"
                                          class="form-field__datepicker-icon-clicker"></span>
                                    <input type="hidden" name="passportexpdate_submit">
                                </span>
                                <div id="description-for-passportdate" class="form-field__messages">
                                </div>
                            </div>
                            <div id="datepicker-container-PassIssueDate" class="form-field form-field--text  ">
                                <label for="form-field-PassIssueDate" class="form-field__label">
                                    @Translate.Text("Epass.Passissuedate")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input class="form-field__input form-field__input--text   form-field__input--datepicker     picker__input form-field__binding"
                                           id="form-field-PassIssueDate"
                                           name="passissuedate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Passissuedate")"
                                           aria-describedby="description-for-PassIssueDate"
                                           data-parsley-errors-container="#description-for-PassIssueDate"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                           data-el="datepicker-future"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="46"
                                           readonly=""
                                           data-bindingID="passportbinding"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           aria-owns="form-field-PassIssueDate_root"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 36 , &quot;format&quot;: &quot;yyyy/mm/dd&quot; , &quot;max&quot;: [@nowoneyear.Year,@nowoneyear.Month,@nowoneyear.Day] }' />
                                    <span data-clicker="#datepicker-container-PassIssueDate"
                                          class="form-field__datepicker-icon-clicker"></span>
                                    <input type="hidden" name="passissuedate_submit">
                                </span>
                                <div id="description-for-PassIssueDate" class="form-field__messages">
                                </div>
                            </div>

                            <div id="datepicker-container-PassExpiryDate" class="form-field form-field--text  ">
                                <label for="form-field-PassExpiryDate" class="form-field__label">
                                    @Translate.Text("Epass.Passexpirydate")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input class="form-field__input form-field__input--text   form-field__input--datepicker     picker__input form-field__binding"
                                           id="form-field-PassExpiryDate"
                                           name="passexpirydate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Passexpirydate")"
                                           aria-describedby="description-for-PassExpiryDate"
                                           data-parsley-errors-container="#description-for-PassExpiryDate"
                                           required=""
                                           data-parsley-required-message="@Translate.Text("Epass.SelectPassexpirydate")"
                                           data-el="datepicker-future"
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="46"
                                           readonly=""
                                           data-bindingID="passportbinding"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 36 , &quot;format&quot;: &quot;yyyy/mm/dd&quot; , &quot;min&quot;: [@nowmax.Year,@nowmax.Month,@(nowmax.Day)],&quot;max&quot;: [@nowoneyear.Year,@nowoneyear.Month,@nowoneyear.Day] }' />
                                    <span data-clicker="#datepicker-container-PassExpiryDate"
                                          class="form-field__datepicker-icon-clicker"></span>
                                    <input type="hidden" name="passexpirydate_submit">
                                </span>
                                <div id="description-for-PassExpiryDate" class="form-field__messages">
                                </div>
                            </div>
                            <div class="form-field form-field--select form-field--select-single">
                                <label for="form-field-FromTime" class="form-field__label">
                                    @Translate.Text("Epass.Fromtime")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--select">
                                    <select class="form-field__input form-field__input--select form-field__input--select-full" id="form-field-FromTime" name="FromTime" aria-describedby="description-for-FromTime" data-parsley-errors-container="#description-for-FromTime" required data-parsley-required-message="@Translate.Text("Epass.Requiredfield")">
                                        <option value="" selected>
                                            @Translate.Text("Epass.Chooseanoption")
                                        </option>
                                        @*<option value="00:00 AM">00:00</option>
                                            <option value="01:00 AM">01:00</option>
                                            <option value="02:00 AM">02:00</option>
                                            <option value="03:00 AM">03:00</option>
                                            <option value="04:00 AM">04:00</option>
                                            <option value="05:00 AM">05:00</option>
                                            <option value="06:00 AM">06:00</option>
                                            <option value="07:00 AM">07:00</option>
                                            <option value="08:00 AM">08:00</option>
                                            <option value="09:00 AM">09:00</option>
                                            <option value="10:00 AM">10:00</option>
                                            <option value="11:00 PM">11:00</option>
                                            <option value="12:00 PM">12:00</option>
                                            <option value="13:00 PM">13:00</option>
                                            <option value="14:00 PM">14:00</option>
                                            <option value="15:00 PM">15:00</option>
                                            <option value="16:00 PM">16:00</option>
                                            <option value="17:00 PM">17:00</option>
                                            <option value="18:00 PM">18:00</option>
                                            <option value="19:00 PM">19:00</option>
                                            <option value="20:00 PM">20:00</option>
                                            <option value="21:00 PM">21:00</option>
                                            <option value="22:00 PM">22:00</option>
                                            <option value="23:00 PM">23:00</option>*@
                                        @{
                                            foreach (var item in FromToTime)
                                            {
                                                <option value="@item.Value"> @item.Text </option>
                                            }
                                        }
                                    </select>
                                </span>
                            </div>
                            <div class="form-field form-field--select form-field--select-single">
                                <label for="form-field-ToTime" class="form-field__label">
                                    @Translate.Text("Epass.Totime")
                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--select">
                                    <select class="form-field__input form-field__input--select form-field__input--select-full" id="form-field-ToTime" name="ToTime" aria-describedby="description-for-ToTime" data-parsley-errors-container="#description-for-ToTime" required data-parsley-required-message="@Translate.Text("Epass.Requiredfield")">
                                        <option value="" selected>
                                            @Translate.Text("Epass.Chooseanoption")
                                        </option>
                                        @*<option value="00:00 AM">00:00</option>
                                            <option value="01:00 AM">01:00</option>
                                            <option value="02:00 AM">02:00</option>
                                            <option value="03:00 AM">03:00</option>
                                            <option value="04:00 AM">04:00</option>
                                            <option value="05:00 AM">05:00</option>
                                            <option value="06:00 AM">06:00</option>
                                            <option value="07:00 AM">07:00</option>
                                            <option value="08:00 AM">08:00</option>
                                            <option value="09:00 AM">09:00</option>
                                            <option value="10:00 AM">10:00</option>
                                            <option value="11:00 PM">11:00</option>
                                            <option value="12:00 PM">12:00</option>
                                            <option value="13:00 PM">13:00</option>
                                            <option value="14:00 PM">14:00</option>
                                            <option value="15:00 PM">15:00</option>
                                            <option value="16:00 PM">16:00</option>
                                            <option value="17:00 PM">17:00</option>
                                            <option value="18:00 PM">18:00</option>
                                            <option value="19:00 PM">19:00</option>
                                            <option value="20:00 PM">20:00</option>
                                            <option value="21:00 PM">21:00</option>
                                            <option value="22:00 PM">22:00</option>
                                            <option value="23:00 PM">23:00</option>*@
                                        @{
                                            foreach (var item in FromToTime)
                                            {
                                                <option value="@item.Value">@item.Text</option>
                                            }
                                        }
                                    </select>
                                </span>
                            </div>
                            @if (Model.Location != null)
                            {
                                <div class="form-field form-field--select form-field--select-single">
                                    <label for="form-field-locations" class="form-field__label">
                                        @Translate.Text("Epass.Location")
                                    </label>
                                    <span class="form-field__input-wrapper form-field__input-wrapper--select">
                                        <select class="form-field__input form-field__input--select form-field__input--select-full form-field__input--select2" id="form-field-locations" name="SelectedLocation" multiple="multiple" aria-describedby="description-for-ma7826si2" data-parsley-errors-container="#description-for-ma7826si2" data-placeholder="@Translate.Text("Epass.SelectLocation")" required data-parsley-required-message="@Translate.Text("Epass.SelectLocation")">
                                            @{
                                                foreach (var item in Model.Location)
                                                {
                                                    <option value="@item.Value" @(Model.SelectedLocation != null && Model.SelectedLocation.Contains(item.Value) ? "selected" : string.Empty)>@item.Text</option>
                                                }
                                            }
                                        </select>
                                    </span>
                                    <div id="description-for-ma7826si2" class="form-field__messages">
                                    </div>
                                </div>
                            }
                        </div>
                    </li>
                    <li class="m62-expand--item">
                        <a class="m62-expand--trigger active has-icon icon-Add_To_Collective_Billing">
                            <div class="m62-expand--title">
                                @Translate.Text("Epass.Documents")
                            </div>
                            <div class="m62-expand--subtitle">
                                @Translate.Text("Epass.Attachdocuments")
                            </div>
                            <div class="m62-expand--subtitle m62-expand--error red hidden" style="display: none;">
                                @Translate.Text("Epass.Inmissing")
                            </div>
                        </a>
                        <div class="m62-expand--content" style="display:block;">


                            <div class="form-field form-field--toggles mb24">
                                <fieldset class="fieldset">
                                    <legend class="legend-color">.</legend>
                                    <div class="form-field__checkbox   first">
                                        <label>
                                            <input class="form-field__input form-field__input--checkbox"
                                                   id="form-field-checkbox_iswithcar"
                                                   aria-label="form-field-checkbox_iswithcar"
                                                   name="withcar"
                                                   type="checkbox"
                                                   value="False"
                                                   aria-describedby="description-for-issanadsmartcard"
                                                   data-parsley-errors-container="#description-for-issanadsmartcard">

                                            <span class="form-field__fakecheckbox focus-enabled">
                                                @Translate.Text("wp.do you want to accompany with Car")
                                            </span>
                                        </label>
                                    </div>
                                    <div id="description-for-withcar" class="form-field__messages">
                                    </div>
                                </fieldset>
                            </div>

                            <div class="form-field form-field--select form-field--select-single withcar hidden mt12">
                                <label for="form-field-emirates" class="form-field__label">
                                    <span id="spEmirate"> @Translate.Text("EV Choose Emirate")</span>
                                    <span class="form-field__label-required aria-only">@Translate.Text("required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--select">
                                    @Html.DropDownListFor(model => model.EmirateOrCountry, Model.Emirates, Translate.Text("EV Select Emirate"), new
                               {
                                   @class = "form-field__input form-field__input--select form-field__input--select-full",
                                   @id = "form-field-emirates",
                                   @required = "required",
                                   @data_parsley_required_message = Translate.Text("EV Select Emirate"),
                                   @data_parsley_errors_container = "#description-for-w1mfbetd3",
                                   @aria_describedby = "description-for-w1mfbetd3",
                                   @data_postedvalue = Model.EmirateOrCountry
                               })

                                </span>
                                <div id="description-for-w1mfbetd3" class="form-field__messages">
                                </div>
                            </div>

                            <div class="form-field form-field--select form-field--select-single  withcar hidden mt12 onlydxb">
                                <label for="form-field-categorycode" class="form-field__label">
                                    <span>  @Translate.Text("EV.Category Code")</span>
                                    <span class="form-field__label-required aria-only">@Translate.Text("required")</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--select">
                                    @Html.DropDownListFor(model => model.SelectedPlateCategory, Model.PlateCategory, Translate.Text("EV Select categorycode"), new
                               {
                                   @class = "form-field__input form-field__input--select form-field__input--select-full",
                                   @id = "form-field-categorycode",
                                   @required = "required",
                                   @data_parsley_required_message = @Translate.Text("EVcategorycodeErrorMessage"),
                                   @data_parsley_errors_container = "#description-for-categorycode",
                                   @aria_describedby = "description-for-categorycode",
                                   @data_postedvalue = Model.SelectedPlateCategory
                               })

                                </span>
                                <div id="description-for-categorycode" class="form-field__messages">
                                    @Html.ValidationMessageFor(x => x.SelectedPlateCategory, "", new { @class = "parsley-errors-list" })
                                </div>
                            </div>

                            <div class="form-field form-field--text  withcar hidden mt12">
                                <label for="form-field-PlateCode" class="form-field__label">
                                    @Translate.Text("Epass.Car Plate Code")
                                    <span class="form-field__label-required aria-only">(@Translate.Text("Required"))</span>
                                </label>
                                <span class="form-field__input-wrapper">
                                    <input class="form-field__input form-field__input--text"
                                           id="form-field-PlateCode"
                                           name="PlateCode"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.Car Plate Code Placeholder")"
                                           aria-describedby="description-for-PlateCode"
                                           maxlength="3"
                                           data-parsley-maxlength="3"
                                           value=""
                                           data-parsley-error-message="@Translate.Text("Epass.Car Plate Code Error Message")"
                                           data-parsley-errors-container="#description-for-PlateCode"
                                           onkeyup="this.value=removeSpaces(this.value);" />
                                </span>
                                <div id="description-for-PlateCode" class="form-field__messages">
                                </div>
                            </div>
                            <div class="form-field form-field--text  withcar hidden mt12" id="divPlateNumber">
                                <label for="form-field-PlateNumber" class="form-field__label">
                                    @Translate.Text("EV.Car Plate Number")
                                    <span class="form-field__label-required aria-only">(@Translate.Text("Required"))</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--plate-number">
                                    <input class="form-field__input form-field__input--text ct_platenumber"
                                           id="form-field-PlateNumber"
                                           name="PlateNumber"
                                           type="text"
                                           data-parsley-type="number"
                                           placeholder="@Translate.Text("EV.Car Plate Number")"
                                           aria-describedby="description-for-PlateNumber"
                                           required=""
                                           value=""
                                           maxlength="20"
                                           data-parsley-maxlength="20"
                                           data-parsley-error-message="@Translate.Text("EV.errorMessage_PlateNumber")"
                                           data-parsley-errors-container="#description-for-PlateNumber"
                                           onkeyup="this.value=removeSpaces(this.value);" />
                                </span>
                                <div id="description-for-PlateNumber" class="form-field__messages">
                                </div>
                            </div>


                            <div id="datepicker-container-vehregis" class="form-field form-field--text   withcar hidden mt12">
                                <label for="form-field-vehregis" class="form-field__label">
                                    @Translate.Text("Epass.VehicleRegistrationDate")
                                    <span class="form-field__label-required hidden" id="spnvehregisdate">(@Translate.Text("Epass.Optional"))</span>
                                </label>
                                <span class="form-field__input-wrapper form-field__input-wrapper--datepicker">
                                    <input value=""
                                           class="form-field__input form-field__input--text  form-field__input--datepicker picker__input form-field__binding"
                                           id="form-field-vehregis"
                                           name="VehicleRegistrationDate"
                                           type="text"
                                           placeholder="@Translate.Text("Epass.VehicleRegistrationDate")"
                                           aria-describedby="description-for-vehregis"
                                           data-parsley-errors-container="#description-for-vehregis"
                                           data-el="datepicker"
                                           required=""
                                           data-parsley-trigger="focusout"
                                           data-parsley-id="43"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                           aria-readonly="false"
                                           data-bindingID="vehiclebinding"
                                           data-picker-options='{&quot;selectMonths&quot;: true , &quot;selectYears&quot;: 2 , &quot;format&quot;: &quot;yyyy/mm/dd&quot;, &quot;min&quot;: [@DateTime.Now.AddYears(-2).Year.ToString(),@((DateTime.Now.AddYears(-2).Month-1).ToString()),@DateTime.Now.AddYears(-2).Day.ToString()], &quot;max&quot;: [@DateTime.Now.Year.ToString(),@((DateTime.Now.Month-1).ToString()),@DateTime.Now.Day.ToString()]}'>
                                </span>
                                <div id="description-for-vehregis" class="form-field__messages">
                                </div>
                            </div>
                            <legend class="legend mt24">
                                @Translate.Text("Epass.Attachments")
                            </legend>
                            <div class="form-field form-field--upload hidden withcar" id="drivinglicensedocumentdiv">
                                <div class="form-field__input-wrapper">
                                    <div class="form-field__preview-wrapper">
                                        <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="drivinglicense">
                                    </div>
                                    <div class="form-field__uploader-details">
                                        <label for="form-field-drivinglicense" class="form-field__label">
                                            @Translate.Text("wp.driving license")
                                            <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                        </label>
                                        <div>
                                            <label>
                                                <input class="form-field__input form-field__input--upload"
                                                       id="form-field-drivinglicense"
                                                       name="SinglePass_DrivingLicense"
                                                       type="file"
                                                       aria-describedby="description-for-drivinglicense"
                                                       data-parsley-errors-container="#description-for-drivinglicense"
                                                       required=""
                                                       data-parsley-required-message="@Translate.Text("Epass.Uploaddrivinglicense")"
                                                       data-uploader-field="drivinglicense"
                                                       accept="image/*"
                                                       data-accepts='"jpg", ".bmp","png","jpeg"'
                                                       data-size="2048000"
                                                       data-parsley-trigger="focusout"
                                                       data-parsley-id="48">
                                                <span class="button button--primary button--small focus-enabled"
                                                      data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>

                                                </label>
                                            </div>
                                            <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                            <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                            <p class="form-field__input--upload-filename" data-uploader-filename="drivinglicense"></p>

                                            <p>
                                                <button class="button button--text button--remove hidden" data-uploader-remove="drivinglicense">@Translate.Text("Epass.Remove")</button>
                                            </p>
                                        </div>
                                    </div>
                                    <div id="description-for-drivinglicense" class="form-field__messages">
                                        <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                    </div>
                                </div>

                                <div class="form-field form-field--upload hidden withcar" id="vehicleregistrationdocumentdiv">
                                    <div class="form-field__input-wrapper">
                                        <div class="form-field__preview-wrapper">
                                            <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="vehicleno">
                                        </div>
                                        <div class="form-field__uploader-details">
                                            <label for="form-field-vehicleno" class="form-field__label">
                                                @Translate.Text("Epass.VehicleRegistration")
                                                <span class="form-field__label-required hidden">(@Translate.Text("Epass.Optional"))</span>
                                            </label>
                                            <div>
                                                <label>
                                                    <input class="form-field__input form-field__input--upload"
                                                           id="form-field-vehicleno"
                                                           name="SinglePass_VehicleRegistration"
                                                           type="file"
                                                           required=""
                                                           aria-describedby="description-for-vehicleno"
                                                           data-parsley-errors-container="#description-for-vehicleno"
                                                           data-parsley-required-message="@Translate.Text("Epass.UploadVehicleRegistration")"
                                                           data-uploader-field="vehicleno"
                                                           accept="image/*"
                                                           data-accepts='"jpg", ".bmp","png","jpeg"'
                                                           data-size="2048000"
                                                           data-parsley-trigger="focusout"
                                                           data-parsley-id="48">
                                                    <span class="button button--primary  button--small focus-enabled"
                                                          data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>

                                                    </label>
                                                </div>
                                                <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                                <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                                <p class="form-field__input--upload-filename" data-uploader-filename="vehicleno"></p>

                                                <p>
                                                    <button class="button button--text button--remove hidden" data-uploader-remove="vehicleno">@Translate.Text("Epass.Remove")</button>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="description-for-vehicleno" class="form-field__messages">
                                            <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                        </div>
                                    </div>



                                    <div class="form-field form-field--upload">
                                        <div class="form-field__input-wrapper">
                                            <div class="form-field__preview-wrapper">
                                                <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="Applicantphoto">
                                            </div>
                                            <div class="form-field__uploader-details">
                                                <label for="form-field-Applicantphoto" class="form-field__label">
                                                    @Translate.Text("Epass.EIDpassport")
                                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                                </label>
                                                <div>
                                                    <label>
                                                        <input class="form-field__input form-field__input--upload"
                                                               id="form-field-Applicantphoto"
                                                               name="upload"
                                                               type="file"
                                                               aria-describedby="description-for-Applicantphoto"
                                                               data-parsley-errors-container="#description-for-Applicantphoto"
                                                               required=""
                                                               data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                                               data-uploader-field="Applicantphoto"
                                                               accept="image/*"
                                                               data-accepts='"jpg", ".bmp","png","jpeg"'
                                                               data-size="2048000"
                                                               data-parsley-trigger="focusout"
                                                               data-parsley-id="48">
                                                        <span class="button button--primary  button--small focus-enabled" data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>
                                                    </label>
                                                </div>
                                                <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                                <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                                <p class="form-field__input--upload-filename" data-uploader-filename="Applicantphoto"></p>
                                                <p>
                                                    <button class="button button--text button--remove hidden" data-uploader-remove="Applicantphoto">@Translate.Text("Epass.Remove")</button>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="description-for-Applicantphoto" class="form-field__messages">
                                            <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                        </div>
                                    </div>
                                    <div class="form-field form-field--upload" id="eiddocumentdiv">
                                        <div class="form-field__input-wrapper">
                                            <div class="form-field__preview-wrapper">
                                                <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="emiratesidfile">
                                            </div>
                                            <div class="form-field__uploader-details">
                                                <label for="form-field-emiratesidfile" class="form-field__label">
                                                    @Translate.Text("Epass.EIDboth")
                                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                                </label>
                                                <div>
                                                    <label>
                                                        <input class="form-field__input form-field__input--upload"
                                                               id="form-field-emiratesidfile"
                                                               name="upload"
                                                               type="file"
                                                               required=""
                                                               data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                                               aria-describedby="description-for-emiratesidfile"
                                                               data-parsley-errors-container="#description-for-emiratesidfile"
                                                               data-uploader-field="emiratesidfile"
                                                               accept="image/*"
                                                               data-accepts='"jpg", ".bmp","png","jpeg"'
                                                               data-size="2048000"
                                                               data-parsley-trigger="focusout"
                                                               data-parsley-id="48">
                                                        <span class="button button--primary  button--small focus-enabled" data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>
                                                    </label>
                                                </div>
                                                <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                                <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                                <p class="form-field__input--upload-filename" data-uploader-filename="emiratesidfile"></p>
                                                <p>
                                                    <button class="button button--text button--remove hidden" data-uploader-remove="emiratesidfile">@Translate.Text("Epass.Remove")</button>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="description-for-emiratesidfile" class="form-field__messages">
                                            <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                        </div>
                                    </div>
                                    <div class="form-field form-field--upload" id="visadocumentdiv">
                                        <div class="form-field__input-wrapper">
                                            <div class="form-field__preview-wrapper">
                                                <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="visafile">
                                            </div>
                                            <div class="form-field__uploader-details">
                                                <label for="form-field-visafile" class="form-field__label">
                                                    @Translate.Text("Epass.Visapage")
                                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                                </label>
                                                <div>
                                                    <label>
                                                        <input class="form-field__input form-field__input--upload"
                                                               id="form-field-visafile"
                                                               name="upload"
                                                               type="file"
                                                               data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                                               aria-describedby="description-for-visafile"
                                                               data-parsley-errors-container="#description-for-visafile"
                                                               data-uploader-field="visafile"
                                                               accept="image/*"
                                                               data-accepts='"jpg", ".bmp","png","jpeg"'
                                                               data-size="2048000"
                                                               data-parsley-trigger="focusout"
                                                               data-parsley-id="48">
                                                        <span class="button button--primary  button--small focus-enabled" data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>
                                                    </label>
                                                </div>
                                                <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                                <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                                <p class="form-field__input--upload-filename" data-uploader-filename="visafile"></p>
                                                <p>
                                                    <button class="button button--text button--remove hidden" data-uploader-remove="visafile">@Translate.Text("Epass.Remove")</button>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="description-for-visafile" class="form-field__messages">
                                            <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                        </div>
                                    </div>
                                    <div class="form-field form-field--upload" id="passportdocumentdiv">
                                        <div class="form-field__input-wrapper">
                                            <div class="form-field__preview-wrapper">
                                                <img src="/images/preview_pdf@2x.png" data-src="/images/preview_pdf@2x.png" data-success="/images/upload_success@2x.png" class="form-field__preview" aria-hidden="true" role="presentation" alt="" data-uploader-image="passportfile">
                                            </div>
                                            <div class="form-field__uploader-details">
                                                <label for="form-field-passportfile" class="form-field__label">
                                                    @Translate.Text("Epass.Passfirstlast")
                                                    <span class="form-field__label-required aria-only">@Translate.Text("Epass.Required")</span>
                                                </label>
                                                <div>
                                                    <label>
                                                        <input class="form-field__input form-field__input--upload"
                                                               id="form-field-passportfile"
                                                               name="upload"
                                                               type="file"
                                                               aria-describedby="description-for-passportfile"
                                                               data-parsley-errors-container="#description-for-passportfile"
                                                               required=""
                                                               data-parsley-required-message="@Translate.Text("Epass.Requiredfield")"
                                                               data-uploader-field="passportfile"
                                                               accept="image/*"
                                                               data-accepts='"jpg", ".bmp","png","jpeg"'
                                                               data-size="2048000"
                                                               data-parsley-trigger="focusout"
                                                               data-parsley-id="48">
                                                        <span class="button button--primary  button--small focus-enabled" data-uploader-button="upload-choose">@Translate.Text("Epass.Choose")</span>
                                                    </label>
                                                </div>
                                                <p class="form-field__input--upload-format-error-message" data-uploader-format-error="error-message">@Translate.Text("Epass.Uploadformat")</p>
                                                <p class="form-field__input--upload-size-error-message" data-uploader-size-error="error-message">@Translate.Text("Epass.Uploadfilesize")</p>
                                                <p class="form-field__input--upload-filename" data-uploader-filename="passportfile"></p>
                                                <p>
                                                    <button class="button button--text button--remove hidden" data-uploader-remove="passportfile">@Translate.Text("Epass.Remove")</button>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="description-for-passportfile" class="form-field__messages">
                                            <p class="form-field__description">@Translate.Text("Epass.Indoc")</p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="form-field form-field--text">
                    <div id="Errormessage" class="form-field__messages red">
                    </div>
                </div>
                <div class="form-field__button" id="epasssubmitbutton">
                    <button class="button button--primary " type="submit">@Translate.Text("Epass.Save")</button>
                </div>
            }
</div>
<script src="~/Scripts/External/nml/form-submit-validate.js"></script>
<script type="text/javascript">
    $(document).on('keypress', '#form-field-fullname', function (event) {
        var regex = new RegExp("^[a-zA-Z ]+$");
        var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
        if (!regex.test(key)) {
            event.preventDefault();
            return false;
        }
    });
          docReady(function () {
              jQuery('#form-field-nationality').on('change', function () {
                  //alert(this.value);
                  CheckGCC($(this).find("option:selected").val());
              });
              CheckGCC($("#form-field-nationality").find("option:selected").val());

              Date.prototype.addDays = function (days) {
                  var date = new Date(this.valueOf());

                  date.setDate(date.getDate() + days);

                  return date;
              };

              require(['picker'], function () {
            var today = new Date()

            var from_$input = jQuery('#form-field-PassIssueDate').pickadate(),
                from_picker = from_$input.pickadate('picker')

            var to_$input = jQuery('#form-field-PassExpiryDate').pickadate(),
                to_picker = to_$input.pickadate('picker')


            // Check if there’s a “from” or “to” date to start with.
            if (typeof from_picker !== "undefined" && from_picker.get('value')) {
                to_picker.set('min', from_picker.get('select').obj.addDays(30))
            }

            // When something is selected, update the “from” and “to” limits.
            if (typeof from_picker !== "undefined") {
                from_picker.on('set', function (event) {
                    if (event.select) {
                        if (typeof to_picker !== "undefined" && to_picker.get('select') !== null) {
                            if (from_picker.get('select').obj > to_picker.get('select').obj.addDays(-30)) {
                                to_picker.clear();
                            };
                        }
                        to_picker.set('min', from_picker.get('select').obj.addDays(30));
                        to_picker.set('max', from_picker.get('select').obj.addDays(365));
                    } else if ('clear' in event) {
                        to_picker.set('min', today.addDays(30))
                        to_picker.set('max', today.addDays(365))
                    }
                });
            };
            if (typeof to_picker !== "undefined") {
                to_picker.on('set', function (event) {
                    if (event.select) {
                        //from_picker.set('max', to_picker.get('select').obj.addDays(15))
                        if (typeof from_picker !== "undefined" && from_picker.get('select') !== null) {
                            if (to_picker.get('select').obj < from_picker.get('select').obj.addDays(30)) {
                                from_picker.clear();
                            };
                        }
                    } else if ('clear' in event) {
                        //from_picker.set('max', false)
                    }
                });
            }
        });

          });
    CheckGCC = function (country) {
        var isRequired = true;
                  var CountryArray = @Html.Raw(Json.Encode(@GccCountries.ToArray()));
        for (i = 0; i < CountryArray.length; i++) {
                         if (country == CountryArray[i].Value) {
                          isRequired = false;
                          break;
                      }
                  }
                  if (isRequired) {
                      $("#form-field-visa, #form-field-visaexpiry").prop('required', true);
                      $("#form-field-visafile").attr('required', 'required');
                  }
                  else {
                      $("#form-field-visa, #form-field-visaexpiry").removeAttr('required');
                      $("#form-field-visafile").removeAttr('required');
                  }
    };
</script>





